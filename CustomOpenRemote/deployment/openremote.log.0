2021-12-27 19:47:09.467  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-27 19:47:09.487  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-27 19:47:09.494  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-27 19:47:09.531  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-27 19:47:09.592  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-27 19:47:09.652  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-27 19:47:10.006  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-27 19:47:10.011  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-27 19:47:10.016  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-27 19:47:10.248  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-27 19:47:10.282  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-27 19:47:10.367  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-27 19:47:10.378  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-27 19:47:10.380  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-27 19:47:10.383  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-27 19:47:10.400  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.004s)
2021-12-27 19:47:10.595  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-27 19:47:10.728  INFO    [main                          ] org.reflections.Reflections              : Reflections took 74 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-27 19:47:10.846  INFO    [main                          ] org.reflections.Reflections              : Reflections took 39 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-27 19:47:12.504  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-27 19:47:12.506  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-27 19:47:12.509  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-27 19:47:12.510  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-27 19:47:15.576  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-27 19:47:16.029  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment/map/mapdata.mbtiles', falling back to built in map
2021-12-27 19:47:16.031  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/deployment/map/mapsettings.json', falling back to built in map settings
2021-12-27 19:47:16.040  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-27 19:47:16.048  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-27 19:47:16.153  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-27 19:47:16.210  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-27 19:47:16.493  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.498  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.499  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.500  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.502  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.503  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.504  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.505  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.506  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.508  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.509  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.510  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.511  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.513  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.514  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.515  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.516  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.517  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.519  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:47:16.568  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-27 19:47:16.730  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-27 19:47:16.741  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-27 19:47:16.758  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-27 19:47:16.993  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-1906c332-db4a-4680-bfad-9624a2a30114 and rules: [Spool > 512K body size]
2021-12-27 19:47:16.998  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-27 19:47:17.005  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-27 19:47:17.008  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-27 19:47:17.014  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-27 19:47:17.018  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-27 19:47:17.049  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-27 19:47:17.125  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-27 19:47:17.142  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-27 19:47:17.157  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-27 19:47:17.330  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-27 19:47:17.333  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-27 19:47:17.525  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-27 19:47:17.660  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-27 19:47:17.760  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-27 19:47:17.760  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-27 19:47:17.769  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-27 19:47:17.787  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-27 19:47:17.819  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-27 19:47:17.825  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-27 19:47:17.889  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-27 19:47:17.899  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-27 19:47:18.098  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-27 19:47:18.162  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-27 19:47:18.163  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-27 19:47:52.721  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-27 19:53:54.882  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-27 19:53:54.897  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-27 19:53:54.902  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-27 19:53:54.920  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-27 19:53:54.962  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-27 19:53:55.017  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-27 19:53:55.307  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-27 19:53:55.312  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-27 19:53:55.317  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-27 19:53:55.531  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-27 19:53:55.564  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-27 19:53:55.644  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-27 19:53:55.653  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-27 19:53:55.654  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-27 19:53:55.657  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-27 19:53:55.674  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.004s)
2021-12-27 19:53:55.834  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-27 19:53:55.977  INFO    [main                          ] org.reflections.Reflections              : Reflections took 77 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-27 19:53:56.112  INFO    [main                          ] org.reflections.Reflections              : Reflections took 44 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-27 19:53:57.888  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-27 19:53:57.890  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-27 19:53:57.894  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-27 19:53:57.895  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-27 19:54:00.711  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-27 19:54:01.300  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment/map/mapdata.mbtiles', falling back to built in map
2021-12-27 19:54:01.302  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/deployment/map/mapsettings.json', falling back to built in map settings
2021-12-27 19:54:01.313  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-27 19:54:01.321  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-27 19:54:01.450  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-27 19:54:01.495  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-27 19:54:01.799  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.803  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.804  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.805  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.807  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.808  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.809  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.810  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.811  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.812  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.812  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.813  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.814  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.815  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.816  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.817  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.818  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.818  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.819  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 19:54:01.877  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-27 19:54:02.040  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-27 19:54:02.050  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-27 19:54:02.065  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-27 19:54:02.305  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-dbac98a3-2b80-4263-80c7-f4385d9ef738 and rules: [Spool > 512K body size]
2021-12-27 19:54:02.309  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-27 19:54:02.316  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-27 19:54:02.319  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-27 19:54:02.327  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-27 19:54:02.331  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-27 19:54:02.358  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-27 19:54:02.438  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-27 19:54:02.453  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-27 19:54:02.466  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-27 19:54:02.644  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-27 19:54:02.648  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-27 19:54:02.863  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-27 19:54:02.973  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-27 19:54:03.070  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-27 19:54:03.070  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-27 19:54:03.094  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-27 19:54:03.118  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-27 19:54:03.136  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-27 19:54:03.143  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-27 19:54:03.204  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-27 19:54:03.212  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-27 19:54:03.407  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-27 19:54:03.473  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-27 19:54:03.473  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-27 19:54:57.109  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-27 20:09:59.372  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-27 20:09:59.387  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-27 20:09:59.391  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-27 20:09:59.410  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-27 20:09:59.443  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-27 20:09:59.505  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-27 20:09:59.810  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-27 20:09:59.817  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-27 20:09:59.822  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-27 20:10:00.073  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-27 20:10:00.105  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-27 20:10:00.194  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-27 20:10:00.203  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-27 20:10:00.204  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-27 20:10:00.206  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-27 20:10:00.229  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.003s)
2021-12-27 20:10:00.424  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-27 20:10:00.579  INFO    [main                          ] org.reflections.Reflections              : Reflections took 87 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-27 20:10:00.778  INFO    [main                          ] org.reflections.Reflections              : Reflections took 75 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-27 20:10:02.840  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-27 20:10:02.842  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-27 20:10:02.844  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-27 20:10:02.845  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-27 20:10:06.294  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-27 20:10:12.091  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-27 20:10:12.097  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-27 20:10:12.179  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-27 20:10:12.224  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-27 20:10:12.572  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.577  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.579  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.579  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.580  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.581  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.582  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.582  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.583  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.584  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.584  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.586  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.587  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.587  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.588  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.589  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.590  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.590  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.591  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-27 20:10:12.659  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-27 20:10:12.829  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-27 20:10:12.838  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-27 20:10:12.858  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-27 20:10:13.097  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-64c5c624-54c0-4fd3-9fba-7decd4148369 and rules: [Spool > 512K body size]
2021-12-27 20:10:13.100  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-27 20:10:13.107  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-27 20:10:13.112  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-27 20:10:13.118  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-27 20:10:13.124  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-27 20:10:13.156  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-27 20:10:13.237  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-27 20:10:13.253  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-27 20:10:13.270  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-27 20:10:13.480  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-27 20:10:13.483  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-27 20:10:13.684  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-27 20:10:13.838  SEVERE  [main                          ] org.openremote.container.Container       : >>> Runtime container startup failed
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.start(MapService.java:234)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 12:17:55.141  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 12:17:55.165  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 12:17:55.176  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 12:17:55.217  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 12:17:55.290  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 12:17:55.393  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 12:17:56.122  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 12:17:56.135  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 12:17:56.163  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 12:17:56.693  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 12:17:56.771  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 12:17:56.947  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.010s)
2021-12-28 12:17:56.963  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 12:17:56.965  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 12:17:56.969  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 12:17:56.993  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-28 12:17:57.290  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 12:17:57.487  INFO    [main                          ] org.reflections.Reflections              : Reflections took 94 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 12:17:57.656  INFO    [main                          ] org.reflections.Reflections              : Reflections took 59 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 12:18:00.364  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 12:18:00.366  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 12:18:00.372  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 12:18:00.374  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 12:18:05.091  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 12:18:05.715  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 12:18:05.725  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 12:18:05.838  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 12:18:05.892  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 12:18:06.206  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.212  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.213  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.214  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.215  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.217  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.218  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.219  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.221  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.222  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.223  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.224  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.226  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.227  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.228  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.229  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.230  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.231  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.233  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:18:06.308  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 12:18:06.495  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 12:18:06.504  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 12:18:06.521  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 12:18:06.754  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-0507c7fd-a608-459b-b900-b4a1a22a97c2 and rules: [Spool > 512K body size]
2021-12-28 12:18:06.758  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 12:18:06.765  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 12:18:06.770  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 12:18:06.777  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 12:18:06.781  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 12:18:06.814  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 12:18:06.892  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 12:18:06.909  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 12:18:06.926  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 12:18:07.141  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 12:18:07.147  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 12:18:07.366  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 12:18:07.501  SEVERE  [main                          ] org.openremote.container.Container       : >>> Runtime container startup failed
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.start(MapService.java:234)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 12:59:41.108  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 12:59:41.125  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 12:59:41.129  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 12:59:41.149  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 12:59:41.185  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 12:59:41.238  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 12:59:41.514  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 12:59:41.520  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 12:59:41.524  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 12:59:41.756  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 12:59:41.793  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 12:59:41.889  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-28 12:59:41.898  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 12:59:41.900  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 12:59:41.902  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 12:59:41.918  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-28 12:59:42.094  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 12:59:42.236  INFO    [main                          ] org.reflections.Reflections              : Reflections took 75 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 12:59:42.350  INFO    [main                          ] org.reflections.Reflections              : Reflections took 40 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 12:59:44.302  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 12:59:44.304  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 12:59:44.306  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 12:59:44.308  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 12:59:47.528  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 12:59:48.048  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 12:59:48.059  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 12:59:48.178  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 12:59:48.230  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 12:59:48.581  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.587  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.588  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.589  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.590  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.591  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.592  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.595  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.597  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.598  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.599  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.601  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.602  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.603  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.604  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.605  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.606  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.607  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.609  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 12:59:48.652  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 12:59:48.936  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 12:59:48.963  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 12:59:48.993  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 12:59:49.335  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-15564b6c-e4a7-4e50-b90c-82ca42e5ca09 and rules: [Spool > 512K body size]
2021-12-28 12:59:49.339  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 12:59:49.349  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 12:59:49.353  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 12:59:49.359  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 12:59:49.366  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 12:59:49.397  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 12:59:49.481  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 12:59:49.503  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 12:59:49.522  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 12:59:49.777  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 12:59:49.780  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 12:59:50.040  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 12:59:50.174  SEVERE  [main                          ] org.openremote.container.Container       : >>> Runtime container startup failed
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.start(MapService.java:234)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 13:00:39.766  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 13:00:39.788  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 13:00:39.795  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 13:00:39.843  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 13:00:39.918  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 13:00:40.001  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 13:00:40.467  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 13:00:40.474  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 13:00:40.481  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 13:00:40.737  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 13:00:40.781  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 13:00:40.908  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-28 13:00:40.916  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 13:00:40.918  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 13:00:40.922  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 13:00:40.942  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.009s)
2021-12-28 13:00:41.144  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 13:00:41.294  INFO    [main                          ] org.reflections.Reflections              : Reflections took 85 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 13:00:41.459  INFO    [main                          ] org.reflections.Reflections              : Reflections took 44 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 13:00:43.260  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 13:00:43.262  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 13:00:43.265  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 13:00:43.266  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 13:00:46.630  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 13:00:47.137  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment/map/mapdata.mbtiles', falling back to built in map
2021-12-28 13:00:47.138  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/deployment/map/mapsettings.json', falling back to built in map settings
2021-12-28 13:00:47.146  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 13:00:47.155  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 13:00:47.270  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 13:00:47.329  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 13:00:47.753  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.757  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.759  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.760  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.761  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.762  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.763  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.764  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.765  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.768  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.769  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.770  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.771  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.772  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.773  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.774  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.775  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.776  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.777  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 13:00:47.852  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 13:00:48.041  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 13:00:48.049  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 13:00:48.063  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 13:00:48.274  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-7cf10513-726a-4712-b99c-2be0a25a2a90 and rules: [Spool > 512K body size]
2021-12-28 13:00:48.278  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 13:00:48.286  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 13:00:48.289  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 13:00:48.295  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 13:00:48.299  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 13:00:48.330  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 13:00:48.399  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 13:00:48.415  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 13:00:48.429  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 13:00:48.609  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 13:00:48.612  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 13:00:48.795  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-28 13:00:48.934  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-28 13:00:49.054  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-28 13:00:49.055  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-28 13:00:49.063  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-28 13:00:49.082  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-28 13:00:49.101  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-28 13:00:49.108  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-28 13:00:49.176  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-28 13:00:49.187  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-28 13:00:49.386  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-28 13:00:49.451  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-28 13:00:49.453  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-28 13:01:14.022  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 13:33:04.169  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 13:57:24.340  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 14:56:44.411  INFO    [WebService task-3             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 15:54:47.209  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 15:54:47.233  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 15:54:47.245  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 15:54:47.272  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 15:54:47.332  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 15:54:47.398  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 15:54:47.790  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 15:54:47.799  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 15:54:47.810  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 15:54:48.202  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 15:54:48.250  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 15:54:48.384  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.007s)
2021-12-28 15:54:48.396  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 15:54:48.398  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 15:54:48.403  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 15:54:48.426  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.008s)
2021-12-28 15:54:48.634  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 15:54:48.804  INFO    [main                          ] org.reflections.Reflections              : Reflections took 97 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 15:54:48.953  INFO    [main                          ] org.reflections.Reflections              : Reflections took 43 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 15:54:50.810  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 15:54:50.811  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 15:54:50.814  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 15:54:50.815  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 15:54:54.182  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 15:54:54.703  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 15:54:54.710  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 15:54:54.812  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 15:54:54.855  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 15:54:55.144  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.149  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.150  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.151  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.152  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.153  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.153  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.156  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.157  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.158  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.159  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.160  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.161  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.162  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.163  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.164  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.166  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.167  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.168  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 15:54:55.195  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 15:54:55.407  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 15:54:55.416  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 15:54:55.434  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 15:54:55.667  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-4ad270c9-12b8-4478-992d-8feba4463022 and rules: [Spool > 512K body size]
2021-12-28 15:54:55.671  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 15:54:55.679  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 15:54:55.682  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 15:54:55.690  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 15:54:55.695  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 15:54:55.721  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 15:54:55.818  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 15:54:55.835  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 15:54:55.849  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 15:54:56.029  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 15:54:56.032  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 15:54:56.193  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 15:54:56.314  SEVERE  [main                          ] org.openremote.container.Container       : >>> Runtime container startup failed
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.start(MapService.java:234)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 15:59:55.506  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 15:59:55.522  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 15:59:55.526  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 15:59:55.549  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 15:59:55.593  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 15:59:55.655  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 15:59:55.929  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 15:59:55.934  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 15:59:55.939  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 15:59:56.180  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 15:59:56.286  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 15:59:56.373  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-28 15:59:56.379  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 15:59:56.381  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 15:59:56.383  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 15:59:56.398  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.004s)
2021-12-28 15:59:56.566  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 15:59:56.711  INFO    [main                          ] org.reflections.Reflections              : Reflections took 84 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 15:59:56.841  INFO    [main                          ] org.reflections.Reflections              : Reflections took 51 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 15:59:58.434  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 15:59:58.435  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 15:59:58.438  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 15:59:58.439  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 16:00:01.173  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 16:00:01.742  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 16:00:01.752  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 16:00:01.850  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 16:00:01.928  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 16:00:02.456  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.462  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.463  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.464  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.465  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.466  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.467  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.468  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.469  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.470  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.471  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.474  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.477  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.481  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.481  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.483  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.484  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.485  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.487  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:02.559  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 16:00:02.839  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 16:00:02.847  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 16:00:02.866  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 16:00:03.273  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-470d3e54-ca10-471f-b8bf-784abcc8d6a2 and rules: [Spool > 512K body size]
2021-12-28 16:00:03.278  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 16:00:03.288  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 16:00:03.291  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 16:00:03.298  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 16:00:03.305  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 16:00:03.340  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 16:00:03.427  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 16:00:03.461  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 16:00:03.479  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 16:00:03.665  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 16:00:03.668  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 16:00:03.826  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 16:00:03.936  SEVERE  [main                          ] org.openremote.container.Container       : >>> Runtime container startup failed
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.start(MapService.java:234)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 16:00:39.651  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 16:00:39.666  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 16:00:39.671  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 16:00:39.687  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 16:00:39.717  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 16:00:39.765  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 16:00:39.847  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 16:00:39.851  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 16:00:39.856  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 16:00:40.074  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 16:00:40.106  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 16:00:40.213  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-28 16:00:40.222  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 16:00:40.223  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 16:00:40.226  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 16:00:40.241  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.004s)
2021-12-28 16:00:40.424  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 16:00:40.567  INFO    [main                          ] org.reflections.Reflections              : Reflections took 75 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 16:00:40.683  INFO    [main                          ] org.reflections.Reflections              : Reflections took 38 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 16:00:42.546  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 16:00:42.547  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 16:00:42.548  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 16:00:42.549  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 16:00:46.043  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 16:00:46.609  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 16:00:46.617  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 16:00:46.699  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 16:00:46.737  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 16:00:47.123  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.127  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.128  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.129  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.130  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.131  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.132  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.133  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.134  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.135  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.136  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.138  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.139  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.140  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.142  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.143  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.143  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.144  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.145  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:00:47.170  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 16:00:47.505  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 16:00:47.513  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 16:00:47.526  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 16:00:47.831  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-abcece72-531a-4a36-8043-1eca5f6a876b and rules: [Spool > 512K body size]
2021-12-28 16:00:47.837  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 16:00:47.842  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 16:00:47.845  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 16:00:47.855  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 16:00:47.859  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 16:00:47.891  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 16:00:47.998  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 16:00:48.039  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 16:00:48.101  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 16:00:48.626  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 16:00:48.630  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 16:00:49.156  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 16:00:49.392  SEVERE  [main                          ] org.openremote.container.Container       : >>> Runtime container startup failed
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.start(MapService.java:234)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 16:01:20.825  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 16:01:20.842  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 16:01:20.846  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 16:01:20.864  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 16:01:20.894  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 16:01:20.952  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 16:01:21.091  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 16:01:21.097  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 16:01:21.106  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 16:01:21.439  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 16:01:21.491  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 16:01:21.615  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-28 16:01:21.623  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 16:01:21.625  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 16:01:21.627  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 16:01:21.643  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.004s)
2021-12-28 16:01:21.843  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 16:01:22.113  INFO    [main                          ] org.reflections.Reflections              : Reflections took 182 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 16:01:22.374  INFO    [main                          ] org.reflections.Reflections              : Reflections took 67 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 16:01:25.211  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 16:01:25.213  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 16:01:25.215  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 16:01:25.217  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 16:01:29.186  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 16:01:29.730  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 16:01:29.737  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 16:01:29.834  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 16:01:29.881  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 16:01:30.192  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.199  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.200  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.201  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.202  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.203  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.203  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.204  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.205  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.206  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.207  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.209  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.210  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.210  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.211  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.212  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.213  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.215  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.216  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:01:30.275  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 16:01:30.454  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 16:01:30.462  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 16:01:30.477  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 16:01:30.729  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-23326476-0795-4563-8e42-27db3f648404 and rules: [Spool > 512K body size]
2021-12-28 16:01:30.733  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 16:01:30.741  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 16:01:30.744  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 16:01:30.751  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 16:01:30.754  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 16:01:30.836  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 16:01:30.924  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 16:01:30.941  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 16:01:30.955  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 16:01:31.177  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 16:01:31.180  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 16:01:31.352  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 16:01:31.450  SEVERE  [main                          ] org.openremote.container.Container       : >>> Runtime container startup failed
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.start(MapService.java:234)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 16:07:56.731  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 16:07:56.746  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 16:07:56.753  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 16:07:56.773  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 16:07:56.818  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 16:07:56.873  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 16:07:57.162  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 16:07:57.170  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 16:07:57.178  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 16:07:57.418  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 16:07:57.453  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 16:07:57.536  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-28 16:07:57.547  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 16:07:57.549  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 16:07:57.551  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 16:07:57.569  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.004s)
2021-12-28 16:07:57.767  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 16:07:57.906  INFO    [main                          ] org.reflections.Reflections              : Reflections took 74 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 16:07:58.046  INFO    [main                          ] org.reflections.Reflections              : Reflections took 50 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 16:07:59.742  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 16:07:59.743  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 16:07:59.745  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 16:07:59.746  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 16:08:02.644  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 16:08:03.228  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 16:08:03.238  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 16:08:03.329  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 16:08:03.375  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 16:08:03.653  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.659  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.661  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.663  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.665  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.666  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.668  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.669  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.670  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.672  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.675  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.677  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.678  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.679  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.681  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.683  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.684  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.686  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.687  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 16:08:03.747  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 16:08:03.922  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 16:08:03.934  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 16:08:03.950  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 16:08:04.166  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-349553dd-5f02-48e7-9a34-8df1bd982711 and rules: [Spool > 512K body size]
2021-12-28 16:08:04.171  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 16:08:04.181  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 16:08:04.185  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 16:08:04.199  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 16:08:04.208  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 16:08:04.244  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 16:08:04.325  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 16:08:04.346  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 16:08:04.364  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 16:08:04.550  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 16:08:04.554  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 16:08:04.743  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 16:08:04.858  SEVERE  [main                          ] org.openremote.container.Container       : >>> Runtime container startup failed
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.start(MapService.java:234)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 17:40:19.899  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 17:40:19.931  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 17:40:19.941  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 17:40:19.980  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 17:40:20.055  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 17:40:20.147  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 17:40:20.653  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 17:40:20.662  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 17:40:20.669  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 17:40:21.145  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 17:40:21.210  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 17:40:21.346  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.007s)
2021-12-28 17:40:21.359  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 17:40:21.362  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 17:40:21.366  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 17:40:21.392  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-28 17:40:21.686  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 17:40:21.886  INFO    [main                          ] org.reflections.Reflections              : Reflections took 116 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 17:40:22.088  INFO    [main                          ] org.reflections.Reflections              : Reflections took 57 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 17:40:36.364  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 17:40:36.365  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 17:40:36.368  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 17:40:36.371  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 17:40:42.680  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 17:40:43.462  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 17:40:43.478  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 17:40:43.630  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 17:40:43.726  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 17:40:44.383  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.390  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.392  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.395  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.396  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.398  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.399  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.402  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.404  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.406  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.407  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.409  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.411  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.413  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.414  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.416  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.418  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.419  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.423  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 17:40:44.518  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 17:40:44.809  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 17:40:44.829  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 17:40:44.862  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 17:40:45.238  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-33e9081c-7271-4bac-a274-90efa0f54a0e and rules: [Spool > 512K body size]
2021-12-28 17:40:45.244  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 17:40:45.256  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 17:40:45.260  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 17:40:45.270  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 17:40:45.279  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 17:40:45.332  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 17:40:45.434  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 17:40:45.462  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 17:40:45.496  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 17:40:45.773  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 17:40:45.777  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 17:40:46.026  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 17:40:46.234  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 17:40:46.235  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-28 17:40:46.237  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-28 17:40:46.468  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-28 17:40:46.468  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-28 17:40:46.494  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-28 17:40:46.540  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-28 17:40:46.572  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-28 17:40:46.588  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-28 17:40:46.693  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-28 17:40:46.710  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-28 17:40:47.331  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-28 17:40:47.586  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-28 17:40:47.595  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-28 17:41:32.823  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 17:41:35.136  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 17:41:55.597  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 17:41:59.760  FINE    [WebService task-3             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 17:42:03.859  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 17:42:13.433  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 17:42:30.505  FINE    [WebService task-3             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 17:48:49.639  FINE    [WebService task-3             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 18:18:37.430  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 18:18:37.445  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 18:18:37.449  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 18:18:37.465  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 18:18:37.502  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 18:18:37.551  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 18:18:37.850  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 18:18:37.855  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 18:18:37.861  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 18:18:38.073  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 18:18:38.110  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 18:18:38.186  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-28 18:18:38.194  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 18:18:38.195  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 18:18:38.197  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 18:18:38.212  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-28 18:18:38.368  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 18:18:38.506  INFO    [main                          ] org.reflections.Reflections              : Reflections took 85 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 18:18:38.629  INFO    [main                          ] org.reflections.Reflections              : Reflections took 44 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 18:18:40.259  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 18:18:40.260  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 18:18:40.262  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 18:18:40.263  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 18:18:42.993  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 18:18:43.525  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 18:18:43.532  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 18:18:43.622  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 18:18:43.668  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 18:18:43.928  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.932  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.933  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.934  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.935  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.936  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.937  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.938  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.939  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.940  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.941  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.943  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.944  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.945  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.946  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.947  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.948  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.949  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:43.950  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:18:44.010  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 18:18:44.169  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:18:44.180  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:18:44.194  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 18:18:44.446  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-ce42e92a-9ab4-49b2-85b2-028869ac63e4 and rules: [Spool > 512K body size]
2021-12-28 18:18:44.450  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 18:18:44.458  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 18:18:44.462  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 18:18:44.473  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 18:18:44.477  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 18:18:44.502  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 18:18:44.567  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 18:18:44.582  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 18:18:44.599  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 18:18:44.762  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 18:18:44.764  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 18:18:44.912  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 18:18:45.018  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 18:18:45.019  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-28 18:18:45.020  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-28 18:18:45.115  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-28 18:18:45.116  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-28 18:18:45.124  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-28 18:18:45.151  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-28 18:18:45.166  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-28 18:18:45.173  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-28 18:18:45.232  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-28 18:18:45.240  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-28 18:18:45.522  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-28 18:18:45.585  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-28 18:18:45.585  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-28 18:19:15.090  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 18:19:15.929  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 18:21:37.977  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 18:21:37.993  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 18:21:38.001  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 18:21:38.024  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 18:21:38.065  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 18:21:38.117  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 18:21:38.408  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 18:21:38.416  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 18:21:38.425  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 18:21:38.747  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 18:21:38.786  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 18:21:38.870  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-28 18:21:39.217  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 18:21:39.220  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 18:21:39.225  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 18:21:39.785  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-28 18:21:39.964  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 18:21:40.100  INFO    [main                          ] org.reflections.Reflections              : Reflections took 70 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 18:21:40.227  INFO    [main                          ] org.reflections.Reflections              : Reflections took 40 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 18:21:42.708  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 18:21:42.709  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 18:21:42.713  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 18:21:42.715  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 18:21:45.705  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 18:21:46.223  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 18:21:46.234  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 18:21:46.329  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 18:21:46.379  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 18:21:46.717  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.723  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.724  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.725  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.727  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.729  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.730  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.731  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.732  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.733  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.735  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.738  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.740  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.742  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.743  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.745  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.747  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.749  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.750  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:21:46.821  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 18:21:47.011  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:21:47.020  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:21:47.035  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 18:21:47.246  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-4f6133fa-59bd-4633-8d61-c30090205f6b and rules: [Spool > 512K body size]
2021-12-28 18:21:47.250  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 18:21:47.262  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 18:21:47.265  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 18:21:47.272  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 18:21:47.279  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 18:21:47.308  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 18:21:47.382  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 18:21:47.401  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 18:21:47.420  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 18:21:47.701  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 18:21:47.704  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 18:21:47.947  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 18:21:48.152  SEVERE  [main                          ] org.openremote.container.Container       : >>> Runtime container startup failed
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.start(MapService.java:234)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 18:25:54.688  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 18:25:54.704  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 18:25:54.712  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 18:25:54.730  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 18:25:54.776  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 18:25:54.830  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 18:25:55.180  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 18:25:55.189  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 18:25:55.195  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 18:25:55.432  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 18:25:55.473  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 18:25:55.560  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.004s)
2021-12-28 18:25:55.568  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 18:25:55.571  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 18:25:55.574  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 18:25:55.593  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-28 18:25:55.773  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 18:25:55.910  INFO    [main                          ] org.reflections.Reflections              : Reflections took 73 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 18:25:56.054  INFO    [main                          ] org.reflections.Reflections              : Reflections took 46 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 18:25:58.302  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 18:25:58.303  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 18:25:58.305  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 18:25:58.308  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 18:26:06.989  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 18:26:07.518  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 18:26:07.527  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 18:26:07.623  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 18:26:07.672  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 18:26:07.983  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 18:26:07.994  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:07.996  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:07.997  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:07.999  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.000  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.002  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.003  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.004  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.005  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.006  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.009  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.011  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.014  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.016  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.018  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.019  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.021  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.023  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:26:08.057  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 18:26:08.284  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:26:08.300  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:26:08.321  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 18:26:08.609  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-493f4270-2347-4b1e-8f9b-f98bb69e9b9c and rules: [Spool > 512K body size]
2021-12-28 18:26:08.615  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 18:26:08.624  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 18:26:08.628  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 18:26:08.639  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 18:26:08.647  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 18:26:08.687  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 18:26:08.777  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 18:26:08.799  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 18:26:08.820  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 18:26:09.033  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 18:26:09.036  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 18:26:09.218  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 18:26:09.335  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 18:26:09.336  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-28 18:26:09.337  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-28 18:26:09.458  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-28 18:26:09.460  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-28 18:26:09.481  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-28 18:26:09.507  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-28 18:26:09.549  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-28 18:26:09.558  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-28 18:26:09.633  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-28 18:26:09.645  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-28 18:26:10.052  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-28 18:26:10.130  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-28 18:26:10.131  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-28 18:26:49.915  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 18:26:50.762  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 18:27:04.430  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 18:39:32.089  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 18:39:32.104  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 18:39:32.113  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 18:39:32.133  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 18:39:32.173  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 18:39:32.234  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 18:39:32.526  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 18:39:32.531  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 18:39:32.537  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 18:39:32.751  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 18:39:32.788  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 18:39:32.868  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-28 18:39:32.879  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 18:39:32.881  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 18:39:32.884  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 18:39:32.901  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-28 18:39:33.069  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 18:39:33.208  INFO    [main                          ] org.reflections.Reflections              : Reflections took 83 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 18:39:33.343  INFO    [main                          ] org.reflections.Reflections              : Reflections took 46 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 18:39:34.946  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 18:39:34.947  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 18:39:34.951  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 18:39:34.952  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 18:39:37.769  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 18:39:38.221  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 18:39:38.231  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 18:39:38.329  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 18:39:38.383  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 18:39:38.683  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.692  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.693  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.695  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.697  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.698  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.700  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.701  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.703  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.705  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.707  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.710  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.711  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.711  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.712  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.714  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.715  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.716  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.718  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:39:38.788  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 18:39:38.963  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:39:38.974  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:39:38.991  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 18:39:39.213  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-b521e58f-036f-4bc8-9cba-f4fa05a1f4e1 and rules: [Spool > 512K body size]
2021-12-28 18:39:39.217  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 18:39:39.228  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 18:39:39.232  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 18:39:39.240  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 18:39:39.244  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 18:39:39.275  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 18:39:39.347  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 18:39:39.364  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 18:39:39.380  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 18:39:39.582  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 18:39:39.586  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 18:39:39.763  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 18:39:39.862  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 18:39:39.863  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-28 18:39:39.864  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-28 18:39:39.991  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-28 18:39:39.992  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-28 18:39:40.001  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-28 18:39:40.026  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-28 18:39:40.065  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-28 18:39:40.078  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-28 18:39:40.146  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-28 18:39:40.158  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-28 18:39:40.494  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-28 18:39:40.583  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-28 18:39:40.584  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-28 18:40:19.971  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 18:40:20.802  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 18:40:27.125  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 18:40:40.101  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 18:40:46.631  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 18:42:39.522  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 18:42:39.538  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 18:42:39.545  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 18:42:39.565  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 18:42:39.614  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 18:42:39.679  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 18:42:39.966  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 18:42:39.971  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 18:42:39.978  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 18:42:40.208  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 18:42:40.245  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 18:42:40.325  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-28 18:42:40.334  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 18:42:40.336  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 18:42:40.339  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 18:42:40.359  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-28 18:42:40.525  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 18:42:40.668  INFO    [main                          ] org.reflections.Reflections              : Reflections took 77 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 18:42:40.792  INFO    [main                          ] org.reflections.Reflections              : Reflections took 44 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 18:42:42.439  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 18:42:42.440  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 18:42:42.443  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 18:42:42.444  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 18:42:45.315  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 18:42:45.895  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 18:42:45.907  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 18:42:46.011  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 18:42:46.068  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 18:42:46.509  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.514  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.515  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.516  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.517  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.518  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.519  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.520  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.522  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.524  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.527  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.528  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.529  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.530  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.531  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.532  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.533  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.534  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.535  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:42:46.610  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 18:42:46.814  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:42:46.829  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:42:46.850  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 18:42:47.096  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-5459f039-d315-43dc-99bc-e01d359f90ff and rules: [Spool > 512K body size]
2021-12-28 18:42:47.100  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 18:42:47.110  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 18:42:47.114  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 18:42:47.124  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 18:42:47.128  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 18:42:47.162  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 18:42:47.242  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 18:42:47.261  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 18:42:47.283  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 18:42:47.583  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 18:42:47.589  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 18:42:47.887  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 18:42:48.006  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 18:42:48.007  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-28 18:42:48.008  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-28 18:42:48.134  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-28 18:42:48.134  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-28 18:42:48.162  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-28 18:42:48.200  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-28 18:42:48.227  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-28 18:42:48.239  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-28 18:42:48.351  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-28 18:42:48.364  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-28 18:42:48.722  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-28 18:42:48.799  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-28 18:42:48.800  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-28 18:43:35.630  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 18:43:36.537  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 18:49:03.860  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-28 18:49:03.876  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-28 18:49:03.880  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-28 18:49:03.899  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-28 18:49:03.946  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-28 18:49:04.013  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-28 18:49:04.331  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-28 18:49:04.338  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-28 18:49:04.343  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-28 18:49:04.565  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-28 18:49:04.609  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-28 18:49:04.702  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-28 18:49:04.711  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-28 18:49:04.713  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-28 18:49:04.715  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-28 18:49:04.791  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.004s)
2021-12-28 18:49:04.991  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-28 18:49:05.128  INFO    [main                          ] org.reflections.Reflections              : Reflections took 75 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-28 18:49:05.243  INFO    [main                          ] org.reflections.Reflections              : Reflections took 39 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-28 18:49:06.841  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-28 18:49:06.842  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-28 18:49:06.845  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-28 18:49:06.847  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-28 18:49:09.847  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-28 18:49:10.286  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-28 18:49:10.293  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-28 18:49:10.386  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): 
2021-12-28 18:49:10.429  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-28 18:49:10.722  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.727  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.728  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.729  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.730  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.730  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.731  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.733  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.734  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.736  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.739  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.741  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.742  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.743  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.744  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.745  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.746  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.746  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.748  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-28 18:49:10.811  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-28 18:49:11.016  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:49:11.029  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-28 18:49:11.053  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-28 18:49:11.293  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-c8b45a94-e108-4561-a9a8-0826ea152cdd and rules: [Spool > 512K body size]
2021-12-28 18:49:11.298  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-28 18:49:11.306  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-28 18:49:11.309  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-28 18:49:11.315  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-28 18:49:11.320  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-28 18:49:11.352  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-28 18:49:11.424  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-28 18:49:11.441  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-28 18:49:11.459  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-28 18:49:11.646  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-28 18:49:11.650  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-28 18:49:11.918  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-28 18:49:12.028  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-28 18:49:12.029  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-28 18:49:12.030  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-28 18:49:12.133  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-28 18:49:12.134  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-28 18:49:12.151  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-28 18:49:12.189  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-28 18:49:12.212  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-28 18:49:12.221  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-28 18:49:12.287  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-28 18:49:12.295  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-28 18:49:12.542  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-28 18:49:12.603  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-28 18:49:12.604  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-28 18:49:33.781  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 18:49:34.624  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 19:07:50.337  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 19:07:50.834  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 19:08:23.438  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-28 19:42:21.698  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-28 19:42:22.315  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 15:55:34.085  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 15:55:34.132  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 15:55:34.140  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 15:55:34.163  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 15:55:34.213  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 15:55:34.276  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 15:55:34.692  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 15:55:34.701  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 15:55:34.712  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 15:55:35.033  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 15:55:35.085  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 15:55:35.204  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-29 15:55:35.215  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 15:55:35.217  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 15:55:35.221  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 15:55:35.244  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-29 15:55:35.512  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 15:55:35.690  INFO    [main                          ] org.reflections.Reflections              : Reflections took 100 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 15:55:35.847  INFO    [main                          ] org.reflections.Reflections              : Reflections took 55 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 15:55:37.814  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 15:55:37.815  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 15:55:37.819  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 15:55:37.822  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 15:55:41.172  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 15:55:41.748  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 15:55:41.760  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 15:55:41.889  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 15:55:41.942  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 15:55:42.251  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.257  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.258  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.259  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.261  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.262  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.264  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.265  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.266  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.268  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.269  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.271  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.273  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.274  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.275  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.277  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.278  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.279  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.281  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 15:55:42.315  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 15:55:42.555  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 15:55:42.572  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 15:55:42.594  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 15:55:42.920  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-102d83e5-3e62-44d2-9b2f-d783d574e135 and rules: [Spool > 512K body size]
2021-12-29 15:55:42.924  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 15:55:42.936  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 15:55:42.940  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 15:55:42.949  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 15:55:42.956  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 15:55:43.005  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 15:55:43.069  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 15:55:43.089  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 15:55:43.105  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 15:55:43.312  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 15:55:43.319  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 15:55:43.487  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-29 15:55:43.601  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-29 15:55:43.603  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-29 15:55:43.603  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 15:55:43.763  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 15:55:43.764  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 15:55:43.775  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 15:55:43.796  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 15:55:43.829  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 15:55:43.843  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 15:55:43.919  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 15:55:43.930  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 15:55:44.289  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 15:55:44.407  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 15:55:44.409  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 15:56:11.696  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 15:56:12.780  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 15:56:22.915  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 15:57:55.054  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 15:57:55.076  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 15:57:55.083  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 15:57:55.107  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 15:57:55.155  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 15:57:55.227  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 15:57:55.601  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 15:57:55.611  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 15:57:55.618  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 16:01:02.564  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 16:01:02.585  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 16:01:02.593  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 16:01:02.613  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 16:01:02.662  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 16:01:02.730  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 16:01:02.868  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 16:01:02.877  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 16:01:02.885  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 16:01:03.202  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 16:01:03.246  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 16:01:03.345  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-29 16:01:03.354  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 16:01:03.355  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 16:01:03.359  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 16:01:03.378  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-29 16:01:03.591  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 16:01:03.797  INFO    [main                          ] org.reflections.Reflections              : Reflections took 105 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 16:01:03.952  INFO    [main                          ] org.reflections.Reflections              : Reflections took 54 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 16:01:05.971  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 16:01:05.972  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 16:01:05.975  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 16:01:05.978  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 16:01:09.497  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 16:01:10.138  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 16:01:10.148  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 16:01:10.255  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 16:01:10.302  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 16:01:10.639  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.646  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.647  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.648  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.650  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.652  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.653  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.655  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.657  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.658  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.659  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.661  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.662  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.663  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.665  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.666  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.668  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.669  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.671  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 16:01:10.710  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 16:01:10.927  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 16:01:10.940  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 16:01:10.957  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 16:01:11.215  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-90690d13-d6e7-4d48-8a43-d01c7460aaec and rules: [Spool > 512K body size]
2021-12-29 16:01:11.220  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 16:01:11.230  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 16:01:11.235  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 16:01:11.247  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 16:01:11.257  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 16:01:11.331  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 16:01:11.438  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 16:01:11.460  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 16:01:11.481  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 16:01:11.681  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 16:01:11.685  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 16:01:11.851  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-29 16:01:11.947  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-29 16:01:11.948  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-29 16:01:11.949  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 16:01:12.108  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 16:01:12.109  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 16:01:12.119  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 16:01:12.139  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 16:01:12.160  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 16:01:12.170  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 16:01:12.238  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 16:01:12.248  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 16:01:12.569  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 16:01:12.632  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 16:01:12.633  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 16:01:50.935  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 16:01:52.065  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 17:00:09.542  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 17:00:09.568  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 17:00:09.578  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 17:00:09.616  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 17:00:09.679  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 17:00:09.785  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 17:00:10.167  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 17:00:10.176  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 17:00:10.185  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 17:00:10.786  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 17:00:10.852  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 17:00:10.968  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.007s)
2021-12-29 17:00:10.984  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 17:00:10.989  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 17:00:10.992  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 17:00:11.015  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-29 17:00:11.233  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 17:00:11.437  INFO    [main                          ] org.reflections.Reflections              : Reflections took 113 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 17:00:11.621  INFO    [main                          ] org.reflections.Reflections              : Reflections took 60 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 17:00:14.259  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 17:00:14.260  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 17:00:14.262  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 17:00:14.264  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 17:00:18.234  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 17:00:18.874  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 17:00:18.884  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 17:00:19.029  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 17:00:19.095  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 17:00:19.525  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.536  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.537  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.539  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.540  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.542  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.543  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.545  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.548  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.551  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.554  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.558  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.560  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.561  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.563  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.565  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.568  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.570  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.573  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:00:19.668  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 17:00:19.988  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 17:00:20.003  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 17:00:20.068  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 17:00:20.428  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-006ce054-1772-419b-8187-4c2b145dfcfe and rules: [Spool > 512K body size]
2021-12-29 17:00:20.434  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 17:00:20.446  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 17:00:20.454  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 17:00:20.462  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 17:00:20.472  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 17:00:20.519  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 17:00:20.597  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 17:00:20.625  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 17:00:20.650  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 17:00:20.905  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 17:00:20.909  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 17:00:21.123  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-29 17:00:21.232  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-29 17:00:21.233  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-29 17:00:21.234  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 17:00:21.430  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 17:00:21.430  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 17:00:21.456  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 17:00:21.506  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 17:00:21.548  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 17:00:21.557  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 17:00:21.642  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 17:00:21.660  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 17:00:22.088  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 17:00:22.157  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 17:00:22.158  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 17:40:50.673  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 17:40:50.694  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 17:40:50.703  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 17:40:50.727  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 17:40:50.774  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 17:40:50.847  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 17:40:51.219  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 17:40:51.227  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 17:40:51.235  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 17:40:51.512  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 17:40:51.558  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 17:40:51.659  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-29 17:40:51.671  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 17:40:51.673  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 17:40:51.678  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 17:40:51.716  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.011s)
2021-12-29 17:40:52.025  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 17:40:52.205  INFO    [main                          ] org.reflections.Reflections              : Reflections took 101 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 17:40:52.369  INFO    [main                          ] org.reflections.Reflections              : Reflections took 52 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 17:40:54.545  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 17:40:54.547  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 17:40:54.550  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 17:40:54.554  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 17:40:58.091  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 17:40:58.680  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 17:40:58.690  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 17:40:58.801  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 17:40:58.854  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 17:40:59.176  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.183  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.185  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.186  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.188  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.189  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.191  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.193  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.194  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.196  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.198  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.203  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.205  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.207  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.208  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.211  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.212  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.214  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.218  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 17:40:59.307  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 17:40:59.577  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 17:40:59.591  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 17:40:59.614  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 17:40:59.851  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-07752114-292c-4280-b6b7-4f015aed186f and rules: [Spool > 512K body size]
2021-12-29 17:40:59.857  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 17:40:59.871  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 17:40:59.875  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 17:40:59.884  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 17:40:59.890  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 17:40:59.937  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 17:41:00.024  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 17:41:00.046  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 17:41:00.065  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 17:41:00.267  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 17:41:00.272  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 17:41:00.476  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-29 17:41:00.689  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-29 17:41:00.690  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-29 17:41:00.691  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 17:41:00.862  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 17:41:00.863  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 17:41:00.887  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 17:41:00.914  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 17:41:00.957  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 17:41:00.970  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 17:41:01.072  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 17:41:01.086  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 17:41:01.509  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 17:41:01.686  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 17:41:01.687  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 17:41:32.248  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 17:41:33.418  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 18:14:57.813  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 18:14:57.834  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 18:14:57.841  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 18:14:57.870  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 18:14:57.932  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 18:14:58.009  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 18:14:58.370  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 18:14:58.379  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 18:14:58.386  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 18:14:58.660  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 18:14:58.704  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 18:14:58.811  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-29 18:14:58.823  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 18:14:58.825  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 18:14:58.830  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 18:14:58.855  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.008s)
2021-12-29 18:14:59.146  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 18:14:59.336  INFO    [main                          ] org.reflections.Reflections              : Reflections took 108 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 18:14:59.502  INFO    [main                          ] org.reflections.Reflections              : Reflections took 55 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 18:15:01.504  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 18:15:01.505  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 18:15:01.508  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 18:15:01.510  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 18:15:05.065  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 18:15:05.748  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 18:15:05.759  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 18:15:05.869  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 18:15:05.925  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 18:15:06.286  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.293  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.294  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.295  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.297  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.298  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.299  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.301  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.303  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.305  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.307  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.312  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.315  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.317  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.318  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.319  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.321  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.322  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.324  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:15:06.399  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 18:15:06.646  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 18:15:06.663  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 18:15:06.685  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 18:15:06.921  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-6c11122c-3174-4c69-861c-dff9d8ed50dc and rules: [Spool > 512K body size]
2021-12-29 18:15:06.927  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 18:15:06.938  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 18:15:06.943  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 18:15:06.953  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 18:15:06.959  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 18:15:06.996  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 18:15:07.095  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 18:15:07.118  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 18:15:07.144  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 18:15:07.366  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 18:15:07.372  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 18:15:07.600  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-29 18:15:07.697  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-29 18:15:07.698  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-29 18:15:07.699  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 18:15:07.827  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 18:15:07.827  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 18:15:07.851  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 18:15:07.885  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 18:15:07.908  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 18:15:07.920  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 18:15:08.004  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 18:15:08.016  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 18:15:08.333  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 18:15:08.408  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 18:15:08.409  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 18:15:28.556  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 18:15:29.647  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 18:15:34.718  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 18:15:36.428  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 18:15:52.334  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 18:18:23.255  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 18:18:23.275  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 18:18:23.283  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 18:18:23.318  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 18:18:23.398  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 18:18:23.491  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 18:18:24.068  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 18:18:24.075  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 18:18:24.083  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 18:18:24.463  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 18:18:24.592  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 18:18:24.707  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-29 18:18:24.718  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 18:18:24.720  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 18:18:24.725  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 18:18:24.776  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.019s)
2021-12-29 18:18:25.072  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 18:18:25.244  INFO    [main                          ] org.reflections.Reflections              : Reflections took 96 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 18:18:25.413  INFO    [main                          ] org.reflections.Reflections              : Reflections took 63 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 18:18:27.471  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 18:18:27.473  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 18:18:27.476  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 18:18:27.481  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 18:18:31.110  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 18:18:31.680  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 18:18:31.691  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 18:18:31.826  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 18:18:31.893  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 18:18:32.241  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.248  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.249  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.251  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.252  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.253  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.255  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.256  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.258  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.259  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.260  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.263  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.264  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.267  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.271  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.273  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.275  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.277  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.278  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:18:32.362  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 18:18:32.696  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 18:18:32.712  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 18:18:32.729  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 18:18:32.994  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-7ab8c20c-4304-47fc-a9f1-3450bddfd633 and rules: [Spool > 512K body size]
2021-12-29 18:18:33.001  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 18:18:33.013  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 18:18:33.022  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 18:18:33.042  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 18:18:33.053  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 18:18:33.139  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 18:18:33.265  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 18:18:33.287  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 18:18:33.305  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 18:18:33.522  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 18:18:33.526  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 18:18:33.737  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-29 18:18:33.948  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-29 18:18:33.950  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-29 18:18:33.952  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 18:18:34.146  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 18:18:34.148  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 18:18:34.188  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 18:18:34.212  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 18:18:34.237  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 18:18:34.246  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 18:18:34.341  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 18:18:34.356  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 18:18:34.706  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 18:18:34.791  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 18:18:34.792  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 18:19:10.980  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 18:19:12.663  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 18:20:00.579  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 18:20:00.603  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 18:20:00.612  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 18:20:00.641  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 18:20:00.703  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 18:20:00.796  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 18:20:01.286  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 18:20:01.292  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 18:20:01.302  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 18:20:01.714  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 18:20:01.766  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 18:20:01.877  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.007s)
2021-12-29 18:20:01.889  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 18:20:01.891  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 18:20:01.897  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 18:20:01.927  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.011s)
2021-12-29 18:20:02.146  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 18:20:02.339  INFO    [main                          ] org.reflections.Reflections              : Reflections took 120 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 18:20:02.566  INFO    [main                          ] org.reflections.Reflections              : Reflections took 68 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 18:20:05.932  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 18:20:05.934  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 18:20:05.939  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 18:20:05.944  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 18:20:12.221  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 18:20:12.767  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment/map/mapdata.mbtiles', falling back to built in map
2021-12-29 18:20:12.768  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/deployment/map/mapsettings.json', falling back to built in map settings
2021-12-29 18:20:12.816  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 18:20:12.828  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 18:20:12.950  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 18:20:13.004  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 18:20:13.360  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.369  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.371  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.374  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.376  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.377  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.380  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.382  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.384  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.387  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.390  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.394  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.397  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.399  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.401  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.403  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.405  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.407  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.410  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:20:13.526  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 18:20:13.754  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 18:20:13.769  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 18:20:13.791  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 18:20:14.076  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-7692df29-f6a6-4f3a-bfa5-3c50884e0ca6 and rules: [Spool > 512K body size]
2021-12-29 18:20:14.081  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 18:20:14.092  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 18:20:14.097  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 18:20:14.105  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 18:20:14.111  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 18:20:14.152  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 18:20:14.280  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 18:20:14.340  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 18:20:14.361  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 18:20:14.603  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 18:20:14.608  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 18:20:14.804  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-29 18:20:14.981  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 18:20:15.125  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 18:20:15.126  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 18:20:15.142  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 18:20:15.164  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 18:20:15.190  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 18:20:15.203  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 18:20:15.291  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 18:20:15.307  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 18:20:15.642  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 18:20:15.720  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 18:20:15.721  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 18:20:37.993  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 18:24:32.015  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 18:24:32.037  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 18:24:32.046  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 18:24:32.068  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 18:24:32.114  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 18:24:32.173  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 18:24:32.549  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 18:24:32.555  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 18:24:32.564  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 18:24:32.837  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 18:24:32.878  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 18:24:32.941  WARNING [main                          ] container.persistence.PersistenceService : DB is empty so changing forceClean to true
2021-12-29 18:24:32.942  WARNING [main                          ] container.persistence.PersistenceService : !!! Cleaning database !!!
2021-12-29 18:24:32.968  INFO    [main                          ] ternal.callback.SqlScriptCallbackFactory : Executing SQL callback: beforeClean - 
2021-12-29 18:24:32.985  INFO    [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "postgis" does not exist, skipping
2021-12-29 18:24:32.988  INFO    [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "citext" does not exist, skipping
2021-12-29 18:24:32.998  INFO    [main                          ] g.flywaydb.core.internal.command.DbClean : Successfully dropped pre-schema database level objects (execution time 00:00.001s)
2021-12-29 18:24:33.001  WARNING [main                          ] g.flywaydb.core.internal.command.DbClean : Unable to clean unknown schema: "openremote"
2021-12-29 18:24:33.005  INFO    [main                          ] g.flywaydb.core.internal.command.DbClean : Successfully dropped post-schema database level objects (execution time 00:00.002s)
2021-12-29 18:24:33.039  INFO    [main                          ] container.persistence.PersistenceService : Pending task: 20191202.01, Schema, V20191202_01__Schema.sql
2021-12-29 18:24:33.136  INFO    [main                          ] waydb.core.internal.database.base.Schema : Creating schema "openremote" ...
2021-12-29 18:24:33.148  INFO    [main                          ] nal.schemahistory.JdbcTableSchemaHistory : Creating Schema History table "openremote"."flyway_schema_history" ...
2021-12-29 18:24:33.221  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": null
2021-12-29 18:24:33.271  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Migrating schema "openremote" to version 20191202.01 - Schema
2021-12-29 18:24:34.607  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Successfully applied 1 migration to schema "openremote" (execution time 00:01.392s)
2021-12-29 18:24:34.611  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 1
2021-12-29 18:24:34.642  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.014s)
2021-12-29 18:24:34.885  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 18:24:35.077  INFO    [main                          ] org.reflections.Reflections              : Reflections took 115 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 18:24:35.238  INFO    [main                          ] org.reflections.Reflections              : Reflections took 51 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 18:24:37.330  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 18:24:37.331  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 18:24:37.335  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 18:24:37.336  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 18:24:42.453  INFO    [main                          ] rg.openremote.manager.setup.SetupService : No custom SetupTasks provider found on classpath, system will be empty
2021-12-29 18:24:42.461  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- EXECUTING INIT TASKS ---
2021-12-29 18:24:42.463  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- INIT TASKS COMPLETED SUCCESSFULLY ---
2021-12-29 18:24:43.153  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment/map/mapdata.mbtiles', falling back to built in map
2021-12-29 18:24:43.155  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/deployment/map/mapsettings.json', falling back to built in map settings
2021-12-29 18:24:43.199  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 18:24:43.211  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 18:24:43.342  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 18:24:43.407  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 18:24:43.811  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.821  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.822  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.824  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.826  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.828  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.829  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.831  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.832  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.834  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.837  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.840  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.842  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.843  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.845  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.847  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.848  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.849  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.852  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:24:43.941  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 18:24:44.207  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 18:24:44.225  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 18:24:44.233  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- EXECUTING START TASKS ---
2021-12-29 18:24:44.235  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting all non-master realms
2021-12-29 18:24:44.744  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting all non-master admin users
2021-12-29 18:24:44.790  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting all non default clients
2021-12-29 18:24:47.040  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting client: account-console
2021-12-29 18:24:47.055  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Deleting client: realm=master, client ID=account-console
2021-12-29 18:24:50.119  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 18:24:50.150  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- START TASKS COMPLETED SUCCESSFULLY ---
2021-12-29 18:24:50.162  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 18:24:50.455  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-21adacc4-9553-47c8-bf05-e1fe0a2426ff and rules: [Spool > 512K body size]
2021-12-29 18:24:50.460  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 18:24:50.474  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 18:24:50.477  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 18:24:50.489  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 18:24:50.499  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 18:24:50.536  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 18:24:50.620  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 18:24:50.647  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 18:24:50.672  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 18:24:50.802  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 18:24:50.806  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 18:24:51.128  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-29 18:24:51.303  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 18:24:51.334  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 18:24:51.335  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 18:24:51.347  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 18:24:51.373  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 18:24:51.400  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 18:24:51.411  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 18:24:51.426  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 18:24:51.440  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 18:24:51.461  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 18:24:51.537  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 18:24:51.538  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 18:25:17.402  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 18:55:04.586  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 18:55:04.605  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 18:55:04.615  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 18:55:04.639  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 18:55:04.686  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 18:55:04.776  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 18:55:05.155  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 18:55:05.162  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-29 18:55:05.443  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 18:55:05.618  INFO    [main                          ] org.reflections.Reflections              : Reflections took 102 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 18:55:05.781  INFO    [main                          ] org.reflections.Reflections              : Reflections took 67 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 18:55:06.583  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 18:55:06.596  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 18:55:06.613  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 18:55:06.950  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 18:55:07.000  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 18:55:07.111  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-29 18:55:07.123  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 18:55:07.125  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 18:55:07.129  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 18:55:07.152  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-29 18:55:08.318  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 18:55:08.319  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 18:55:08.323  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 18:55:08.325  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 18:55:11.925  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 18:55:12.503  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment/map/mapdata.mbtiles', falling back to built in map
2021-12-29 18:55:12.506  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/deployment/map/mapsettings.json', falling back to built in map settings
2021-12-29 18:55:12.544  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 18:55:12.552  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 18:55:12.652  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 18:55:12.941  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 18:55:13.075  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.081  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.083  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.084  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.085  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.087  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.088  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.090  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.091  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.093  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.095  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.097  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.099  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.101  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.102  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.103  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.104  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.106  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.110  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 18:55:13.197  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 18:55:13.456  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 18:55:13.470  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 18:55:13.485  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 18:55:13.734  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-c1453af2-f533-4649-ab39-7ea338829981 and rules: [Spool > 512K body size]
2021-12-29 18:55:13.737  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 18:55:13.749  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 18:55:13.754  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 18:55:13.765  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 18:55:13.774  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 18:55:13.805  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 18:55:13.876  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 18:55:13.898  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 18:55:13.919  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 18:55:14.109  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 18:55:14.113  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 18:55:14.306  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-29 18:55:14.485  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 18:55:14.612  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 18:55:14.613  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 18:55:14.625  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 18:55:14.647  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 18:55:14.670  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 18:55:14.686  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 18:55:14.756  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 18:55:14.776  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 18:55:14.986  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 18:55:15.067  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 18:55:15.068  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 19:04:02.221  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 19:04:02.242  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 19:04:02.255  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 19:04:02.284  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 19:04:02.347  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 19:04:02.451  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 19:04:02.605  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 19:04:02.612  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-29 19:04:02.923  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 19:04:03.226  INFO    [main                          ] org.reflections.Reflections              : Reflections took 175 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 19:04:03.455  INFO    [main                          ] org.reflections.Reflections              : Reflections took 74 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 19:04:04.862  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 19:04:04.876  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 19:04:04.897  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 19:04:05.249  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 19:04:05.372  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 19:04:05.518  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.010s)
2021-12-29 19:04:05.540  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 19:04:05.542  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 19:04:05.546  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 19:04:05.586  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.012s)
2021-12-29 19:04:07.232  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 19:04:07.234  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 19:04:07.244  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 19:04:07.247  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 19:04:13.263  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 19:04:13.892  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment/map/mapdata.mbtiles', falling back to built in map
2021-12-29 19:04:13.893  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/deployment/map/mapsettings.json', falling back to built in map settings
2021-12-29 19:04:13.955  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 19:04:13.971  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 19:04:14.098  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 19:04:14.442  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 19:04:14.678  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.687  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.689  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.690  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.691  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.693  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.695  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.697  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.698  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.701  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.704  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.712  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.715  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.717  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.720  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.723  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.732  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.736  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.742  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:04:14.880  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 19:04:15.095  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 19:04:15.108  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 19:04:15.129  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 19:04:15.574  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-54f13466-27ab-4dad-afe0-d9491189fd23 and rules: [Spool > 512K body size]
2021-12-29 19:04:15.579  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 19:04:15.595  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 19:04:15.601  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 19:04:15.614  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 19:04:15.620  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 19:04:15.662  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 19:04:15.761  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 19:04:15.789  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 19:04:15.813  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 19:04:16.100  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 19:04:16.105  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 19:04:16.342  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-29 19:04:16.510  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 19:04:16.661  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 19:04:16.663  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 19:04:16.685  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 19:04:16.714  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 19:04:16.747  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 19:04:16.761  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 19:04:16.877  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 19:04:16.914  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 19:04:17.181  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 19:04:17.265  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 19:04:17.267  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 19:04:26.236  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 19:05:37.655  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 19:05:37.674  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 19:05:37.682  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 19:05:37.703  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 19:05:37.746  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 19:05:37.811  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 19:05:38.210  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 19:05:38.214  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-29 19:05:38.485  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 19:05:38.659  INFO    [main                          ] org.reflections.Reflections              : Reflections took 106 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 19:05:38.826  INFO    [main                          ] org.reflections.Reflections              : Reflections took 65 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 19:05:39.714  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 19:05:39.724  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 19:05:39.737  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 19:05:39.956  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 19:05:40.004  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 19:05:40.125  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-29 19:05:40.137  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 19:05:40.139  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 19:05:40.142  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 19:05:40.167  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.008s)
2021-12-29 19:05:41.399  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 19:05:41.402  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 19:05:41.408  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 19:05:41.409  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 19:05:44.959  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 19:05:45.564  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/opt/app/manager/src/map/mapdata.mbtiles', falling back to built in map
2021-12-29 19:05:45.565  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/opt/app/manager/src/map/mapsettings.json', falling back to built in map settings
2021-12-29 19:05:45.607  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 19:05:45.620  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 19:05:45.731  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 19:05:46.032  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 19:05:46.153  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.158  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.159  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.161  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.163  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.164  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.166  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.167  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.169  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.170  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.171  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.174  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.176  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.177  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.180  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.181  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.184  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.185  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.188  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:05:46.255  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 19:05:46.484  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 19:05:46.497  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 19:05:46.512  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 19:05:46.770  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-02fb1c41-1d82-489f-8cd6-9a69a07fb4e6 and rules: [Spool > 512K body size]
2021-12-29 19:05:46.775  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 19:05:46.785  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 19:05:46.789  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 19:05:46.799  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 19:05:46.804  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 19:05:46.835  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 19:05:46.925  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 19:05:46.949  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 19:05:46.974  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 19:05:47.231  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 19:05:47.234  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 19:05:47.457  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-29 19:05:47.658  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 19:05:47.820  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 19:05:47.821  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 19:05:47.833  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 19:05:47.865  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 19:05:47.897  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 19:05:47.909  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 19:05:47.992  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 19:05:48.006  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 19:05:48.185  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 19:05:48.255  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 19:05:48.256  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 19:06:11.116  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 19:09:10.176  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 19:09:10.201  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 19:09:10.213  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 19:09:10.250  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 19:09:10.312  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 19:09:10.418  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 19:09:10.771  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 19:09:10.775  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-29 19:09:11.129  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 19:09:11.313  INFO    [main                          ] org.reflections.Reflections              : Reflections took 115 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 19:09:11.461  INFO    [main                          ] org.reflections.Reflections              : Reflections took 49 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 19:09:12.276  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 19:09:12.286  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 19:09:12.296  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 19:09:12.647  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 19:09:12.700  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 19:09:12.814  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-29 19:09:12.828  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 19:09:12.830  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 19:09:12.833  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 19:09:12.862  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.008s)
2021-12-29 19:09:13.974  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 19:09:13.975  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 19:09:13.978  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 19:09:13.980  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 19:09:17.681  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 19:09:18.261  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/opt/app/localhost:8082/data/mapdata', falling back to built in map
2021-12-29 19:09:18.263  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/deployment/map/mapsettings.json', falling back to built in map settings
2021-12-29 19:09:18.306  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 19:09:18.314  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 19:09:18.436  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 19:09:18.717  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 19:09:18.856  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.865  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.867  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.870  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.872  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.874  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.878  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.881  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.885  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.887  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.889  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.896  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.898  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.900  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.902  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.904  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.905  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.907  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:18.908  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:09:19.035  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 19:09:19.228  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 19:09:19.241  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 19:09:19.260  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 19:09:19.547  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-e534ae76-3e5f-4e63-a055-e3c6d343e0cb and rules: [Spool > 512K body size]
2021-12-29 19:09:19.553  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 19:09:19.565  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 19:09:19.571  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 19:09:19.584  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 19:09:19.591  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 19:09:19.630  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 19:09:19.719  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 19:09:19.749  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 19:09:19.774  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 19:09:20.033  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 19:09:20.037  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 19:09:20.230  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-29 19:09:20.388  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 19:09:20.592  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 19:09:20.593  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 19:09:20.607  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 19:09:20.631  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 19:09:20.662  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 19:09:20.679  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 19:09:20.771  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 19:09:20.786  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 19:09:21.029  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 19:09:21.115  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 19:09:21.117  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 19:10:04.117  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 19:28:31.395  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 19:28:31.420  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 19:28:31.429  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 19:28:31.465  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 19:28:31.530  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 19:28:31.607  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 19:28:31.988  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 19:28:31.992  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-29 19:28:32.262  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 19:28:32.442  INFO    [main                          ] org.reflections.Reflections              : Reflections took 108 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 19:28:32.641  INFO    [main                          ] org.reflections.Reflections              : Reflections took 64 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 19:28:33.478  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 19:28:33.488  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 19:28:33.507  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 19:28:33.727  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 19:28:33.782  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 19:28:33.895  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.007s)
2021-12-29 19:28:33.908  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 19:28:33.910  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 19:28:33.913  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 19:28:33.935  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-29 19:28:35.157  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 19:28:35.158  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 19:28:35.162  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 19:28:35.164  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 19:28:38.648  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 19:28:39.216  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 19:28:39.225  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 19:28:39.324  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 19:28:39.612  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 19:28:39.727  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.733  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.734  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.736  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.737  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.738  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.739  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.741  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.742  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.744  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.745  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.747  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.748  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.750  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.751  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.753  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.755  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.756  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.757  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:28:39.825  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 19:28:40.039  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 19:28:40.054  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 19:28:40.076  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 19:28:40.370  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-30de4910-45b4-404f-8989-43e33c8156b0 and rules: [Spool > 512K body size]
2021-12-29 19:28:40.374  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 19:28:40.383  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 19:28:40.389  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 19:28:40.397  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 19:28:40.404  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 19:28:40.437  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 19:28:40.523  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 19:28:40.546  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 19:28:40.563  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 19:28:40.757  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 19:28:40.761  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 19:28:41.019  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-29 19:28:41.141  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-29 19:28:41.142  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-29 19:28:41.143  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 19:28:41.330  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 19:28:41.331  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 19:28:41.347  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 19:28:41.380  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 19:28:41.409  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 19:28:41.422  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 19:28:41.507  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 19:28:41.524  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 19:28:41.724  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 19:28:41.807  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 19:28:41.807  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 19:29:00.275  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-29 19:29:01.449  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-29 19:34:31.828  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-29 19:34:31.851  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-29 19:34:31.858  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-29 19:34:31.885  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-29 19:34:31.945  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 19:34:32.042  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-29 19:34:32.435  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-29 19:34:32.439  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-29 19:34:33.126  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-29 19:34:33.375  INFO    [main                          ] org.reflections.Reflections              : Reflections took 145 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-29 19:34:33.598  INFO    [main                          ] org.reflections.Reflections              : Reflections took 64 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-29 19:34:34.511  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-29 19:34:34.522  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-29 19:34:34.537  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-29 19:34:34.915  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-29 19:34:34.986  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-29 19:34:35.172  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.015s)
2021-12-29 19:34:35.192  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-29 19:34:35.196  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-29 19:34:35.206  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-29 19:34:35.238  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.009s)
2021-12-29 19:34:36.944  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-29 19:34:36.946  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-29 19:34:36.954  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-29 19:34:36.957  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-29 19:34:41.056  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-29 19:34:41.606  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment/map/mapdata.mbtiles', falling back to built in map
2021-12-29 19:34:41.607  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/deployment/map/mapsettings.json', falling back to built in map settings
2021-12-29 19:34:41.646  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-29 19:34:41.654  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-29 19:34:41.805  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-29 19:34:42.072  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-29 19:34:42.309  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.315  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.316  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.317  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.318  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.320  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.321  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.326  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.328  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.330  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.331  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.334  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.335  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.337  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.338  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.340  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.342  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.344  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.346  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-29 19:34:42.445  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-29 19:34:42.735  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 19:34:42.755  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-29 19:34:42.803  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-29 19:34:43.383  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-8abac7ce-53c1-4d14-b8f1-bfdc83112f36 and rules: [Spool > 512K body size]
2021-12-29 19:34:43.387  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-29 19:34:43.402  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-29 19:34:43.407  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-29 19:34:43.420  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-29 19:34:43.429  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-29 19:34:43.483  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-29 19:34:43.601  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-29 19:34:43.631  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-29 19:34:43.654  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-29 19:34:43.900  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-29 19:34:43.904  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-29 19:34:44.214  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-29 19:34:44.440  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-29 19:34:44.614  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-29 19:34:44.615  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-29 19:34:44.627  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-29 19:34:44.650  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-29 19:34:44.671  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-29 19:34:44.685  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-29 19:34:44.768  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-29 19:34:44.779  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-29 19:34:44.995  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-29 19:34:45.098  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-29 19:34:45.100  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-29 19:34:54.796  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 14:18:48.108  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 14:18:48.187  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 14:18:48.196  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 14:18:48.230  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 14:18:48.317  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:18:48.409  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 14:18:48.774  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 14:18:48.779  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 14:18:49.091  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 14:18:49.272  INFO    [main                          ] org.reflections.Reflections              : Reflections took 100 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 14:18:49.435  INFO    [main                          ] org.reflections.Reflections              : Reflections took 46 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 14:18:50.218  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:18:50.226  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 14:18:50.236  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 14:18:50.434  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 14:18:50.491  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 14:18:50.555  WARNING [main                          ] container.persistence.PersistenceService : DB is empty so changing forceClean to true
2021-12-30 14:18:50.556  WARNING [main                          ] container.persistence.PersistenceService : !!! Cleaning database !!!
2021-12-30 14:18:50.583  INFO    [main                          ] ternal.callback.SqlScriptCallbackFactory : Executing SQL callback: beforeClean - 
2021-12-30 14:18:50.591  INFO    [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "postgis" does not exist, skipping
2021-12-30 14:18:50.594  INFO    [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "citext" does not exist, skipping
2021-12-30 14:18:50.603  INFO    [main                          ] g.flywaydb.core.internal.command.DbClean : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2021-12-30 14:18:50.605  WARNING [main                          ] g.flywaydb.core.internal.command.DbClean : Unable to clean unknown schema: "openremote"
2021-12-30 14:18:50.608  INFO    [main                          ] g.flywaydb.core.internal.command.DbClean : Successfully dropped post-schema database level objects (execution time 00:00.001s)
2021-12-30 14:18:50.629  INFO    [main                          ] container.persistence.PersistenceService : Pending task: 20191202.01, Schema, V20191202_01__Schema.sql
2021-12-30 14:18:50.649  INFO    [main                          ] waydb.core.internal.database.base.Schema : Creating schema "openremote" ...
2021-12-30 14:18:50.656  INFO    [main                          ] nal.schemahistory.JdbcTableSchemaHistory : Creating Schema History table "openremote"."flyway_schema_history" ...
2021-12-30 14:18:50.710  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": null
2021-12-30 14:18:50.746  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Migrating schema "openremote" to version 20191202.01 - Schema
2021-12-30 14:18:51.757  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Successfully applied 1 migration to schema "openremote" (execution time 00:01.053s)
2021-12-30 14:18:51.761  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 1
2021-12-30 14:18:51.782  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-30 14:18:52.672  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 14:18:52.674  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 14:18:52.677  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 14:18:52.678  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 14:18:56.233  INFO    [main                          ] rg.openremote.manager.setup.SetupService : No custom SetupTasks provider found on classpath, system will be empty
2021-12-30 14:18:56.241  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- EXECUTING INIT TASKS ---
2021-12-30 14:18:56.242  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- INIT TASKS COMPLETED SUCCESSFULLY ---
2021-12-30 14:18:56.739  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 14:18:56.748  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 14:18:56.849  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 14:18:57.106  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 14:18:57.209  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.214  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.214  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.215  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.216  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.218  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.219  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.220  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.222  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.223  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.225  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.227  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.228  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.229  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.230  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.231  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.233  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.233  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.236  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:18:57.313  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 14:18:57.468  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:18:57.479  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:18:57.484  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- EXECUTING START TASKS ---
2021-12-30 14:18:57.486  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:18:57.487  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting all non-master realms
2021-12-30 14:18:57.842  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting all non-master admin users
2021-12-30 14:18:57.866  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting all non default clients
2021-12-30 14:18:59.441  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting client: account-console
2021-12-30 14:18:59.453  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Deleting client: realm=master, client ID=account-console
2021-12-30 14:19:01.516  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:19:01.534  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- START TASKS COMPLETED SUCCESSFULLY ---
2021-12-30 14:19:01.541  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 14:19:01.745  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-bb56594d-7187-4c52-8104-4548d542f879 and rules: [Spool > 512K body size]
2021-12-30 14:19:01.749  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 14:19:01.759  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 14:19:01.762  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 14:19:01.769  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 14:19:01.774  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 14:19:01.797  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 14:19:01.851  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 14:19:01.867  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 14:19:01.883  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 14:19:02.146  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 14:19:02.157  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 14:19:02.412  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-30 14:19:02.529  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-30 14:19:02.531  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-30 14:19:02.532  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 14:19:02.561  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 14:19:02.562  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 14:19:02.572  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 14:19:02.592  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 14:19:02.613  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 14:19:02.621  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 14:19:02.632  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 14:19:02.640  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 14:19:02.656  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 14:19:02.704  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 14:19:02.705  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 14:26:18.861  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 14:26:18.879  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 14:26:18.883  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 14:26:18.901  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 14:26:18.938  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:26:18.995  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 14:26:19.381  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 14:26:19.383  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 14:26:19.669  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 14:26:19.852  INFO    [main                          ] org.reflections.Reflections              : Reflections took 101 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 14:26:19.963  INFO    [main                          ] org.reflections.Reflections              : Reflections took 38 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 14:26:20.661  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:26:20.666  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 14:26:20.674  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 14:26:20.848  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 14:26:20.888  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 14:26:20.989  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-30 14:26:20.999  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 14:26:21.000  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 14:26:21.002  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 14:26:21.019  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-30 14:26:21.931  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 14:26:21.934  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 14:26:21.935  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 14:26:21.937  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 14:26:25.385  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 14:26:25.912  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment/map/mapdata.mbtiles', falling back to built in map
2021-12-30 14:26:25.913  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/deployment/map/mapsettings.json', falling back to built in map settings
2021-12-30 14:26:25.944  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 14:26:25.950  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 14:26:26.042  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 14:26:26.278  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 14:26:26.405  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.411  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.412  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.413  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.413  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.414  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.414  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.415  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.416  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.417  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.417  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.418  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.419  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.420  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.420  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.421  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.422  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.422  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.424  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:26:26.509  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 14:26:26.815  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:26:26.826  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:26:26.843  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 14:26:27.117  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-a81fa101-75c4-42a1-a073-85bc8ebee1f8 and rules: [Spool > 512K body size]
2021-12-30 14:26:27.121  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 14:26:27.130  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 14:26:27.133  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 14:26:27.138  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 14:26:27.142  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 14:26:27.162  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 14:26:27.228  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 14:26:27.245  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 14:26:27.261  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 14:26:27.445  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 14:26:27.447  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 14:26:27.637  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-30 14:26:27.796  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 14:26:27.912  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 14:26:27.913  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 14:26:27.920  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 14:26:27.936  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 14:26:27.953  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 14:26:27.962  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 14:26:28.027  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 14:26:28.036  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 14:26:28.051  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 14:26:28.096  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 14:26:28.097  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 14:31:32.542  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 14:31:32.560  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 14:31:32.565  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 14:31:32.582  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 14:31:32.612  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:31:32.695  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 14:31:33.150  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 14:31:33.153  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 14:31:33.390  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 14:31:33.586  INFO    [main                          ] org.reflections.Reflections              : Reflections took 134 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 14:31:33.793  INFO    [main                          ] org.reflections.Reflections              : Reflections took 51 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 14:31:34.647  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:31:34.652  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 14:31:34.660  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 14:31:34.847  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 14:31:34.892  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 14:31:35.008  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.009s)
2021-12-30 14:31:35.021  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 14:31:35.023  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 14:31:35.026  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 14:31:35.046  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-30 14:31:36.006  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 14:31:36.007  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 14:31:36.009  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 14:31:36.011  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 14:31:39.911  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 14:31:40.563  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 14:31:40.574  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 14:31:40.679  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 14:31:40.924  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 14:31:41.058  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.064  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.065  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.066  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.069  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.071  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.072  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.074  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.075  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.076  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.077  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.079  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.081  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.082  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.084  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.086  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.087  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.089  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.091  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:31:41.187  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 14:31:41.366  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:31:41.377  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:31:41.397  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 14:31:41.661  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-c29a4c18-19a5-467a-9098-309209c79dfa and rules: [Spool > 512K body size]
2021-12-30 14:31:41.665  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 14:31:41.681  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 14:31:41.688  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 14:31:41.698  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 14:31:41.704  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 14:31:41.737  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 14:31:41.816  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 14:31:41.840  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 14:31:41.860  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 14:31:42.081  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 14:31:42.086  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 14:31:42.274  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-30 14:31:42.389  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-30 14:31:42.391  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-30 14:31:42.395  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 14:31:42.591  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 14:31:42.592  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 14:31:42.605  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 14:31:42.630  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 14:31:42.657  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 14:31:42.669  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 14:31:42.756  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 14:31:42.766  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 14:31:42.784  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 14:31:42.843  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 14:31:42.844  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 14:32:15.606  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 14:32:16.976  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 14:33:18.226  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 14:33:29.557  FINE    [WebService I/O-7              ] emote.container.web.WebServiceExceptions : Web service exception (404) in 'Undertow Root Dispatch' for 'HttpServerExchange{ GET /api/}'
2021-12-30 14:33:34.961  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 14:34:10.346  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 14:50:06.071  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 14:50:06.087  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 14:50:06.094  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 14:50:06.114  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 14:50:06.151  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:50:06.213  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 14:50:06.602  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 14:50:06.605  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 14:50:06.878  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 14:50:07.027  INFO    [main                          ] org.reflections.Reflections              : Reflections took 81 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 14:50:07.146  INFO    [main                          ] org.reflections.Reflections              : Reflections took 39 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 14:50:07.912  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:50:07.924  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 14:50:07.940  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 14:50:08.134  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 14:50:08.180  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 14:50:08.271  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-30 14:50:08.285  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 14:50:08.286  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 14:50:08.290  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 14:50:08.308  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-30 14:50:09.348  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 14:50:09.349  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 14:50:09.351  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 14:50:09.353  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 14:50:12.573  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 14:50:13.106  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 14:50:13.116  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 14:50:13.230  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 14:50:13.495  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 14:50:13.637  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.646  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.647  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.648  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.650  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.651  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.653  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.654  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.656  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.658  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.662  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.666  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.669  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.671  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.673  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.675  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.677  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.678  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.680  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:50:13.771  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 14:50:13.961  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:50:13.972  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:50:13.986  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 14:50:14.233  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-691ea152-6770-4285-8257-adb1cc8a2ab7 and rules: [Spool > 512K body size]
2021-12-30 14:50:14.240  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 14:50:14.251  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 14:50:14.254  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 14:50:14.263  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 14:50:14.268  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 14:50:14.354  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 14:50:14.439  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 14:50:14.462  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 14:50:14.479  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 14:50:14.674  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 14:50:14.678  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 14:50:14.858  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-30 14:50:14.962  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-30 14:50:14.963  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-30 14:50:14.964  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 14:50:15.103  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 14:50:15.104  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 14:50:15.116  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 14:50:15.136  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 14:50:15.160  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 14:50:15.175  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 14:50:15.246  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 14:50:15.258  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 14:50:15.418  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 14:50:15.496  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 14:50:15.496  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 14:51:14.674  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 14:51:15.768  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 14:54:38.577  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 14:54:38.593  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 14:54:38.601  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 14:54:38.636  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 14:54:38.676  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:54:38.743  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 14:54:39.138  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 14:54:39.142  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 14:54:39.385  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 14:54:39.541  INFO    [main                          ] org.reflections.Reflections              : Reflections took 88 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 14:54:39.678  INFO    [main                          ] org.reflections.Reflections              : Reflections took 47 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 14:54:40.449  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:54:40.457  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 14:54:40.466  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 14:54:40.654  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 14:54:40.699  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 14:54:40.794  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-30 14:54:40.808  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 14:54:40.809  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 14:54:40.812  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 14:54:40.835  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.008s)
2021-12-30 14:54:42.025  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 14:54:42.032  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 14:54:42.044  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 14:54:42.047  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 14:54:46.005  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 14:54:46.538  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 14:54:46.551  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 14:54:46.702  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 14:54:46.999  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 14:54:47.125  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.132  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.133  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.136  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.138  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.139  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.140  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.142  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.143  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.145  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.146  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.148  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.149  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.150  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.151  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.153  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.157  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.158  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.160  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:54:47.234  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 14:54:47.444  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:54:47.461  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:54:47.480  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 14:54:47.782  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-1495257f-ffaa-4a74-bd6a-f5bbb63d204d and rules: [Spool > 512K body size]
2021-12-30 14:54:47.789  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 14:54:47.798  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 14:54:47.802  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 14:54:47.812  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 14:54:47.819  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 14:54:47.850  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 14:54:47.935  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 14:54:47.955  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 14:54:47.979  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 14:54:48.190  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 14:54:48.194  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 14:54:48.412  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-30 14:54:48.535  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-30 14:54:48.542  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-30 14:54:48.543  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 14:54:48.771  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 14:54:48.771  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 14:54:48.783  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 14:54:48.807  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 14:54:48.833  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 14:54:48.843  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 14:54:48.942  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 14:54:48.955  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 14:54:49.170  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 14:54:49.247  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 14:54:49.248  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 14:55:24.884  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 14:55:26.089  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 14:56:37.498  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 14:56:37.515  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 14:56:37.523  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 14:56:37.546  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 14:56:37.590  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:56:37.653  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 14:56:37.986  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 14:56:37.990  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 14:56:38.234  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 14:56:38.389  INFO    [main                          ] org.reflections.Reflections              : Reflections took 91 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 14:56:38.525  INFO    [main                          ] org.reflections.Reflections              : Reflections took 48 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 14:56:39.401  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 14:56:39.409  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 14:56:39.422  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 14:56:39.611  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 14:56:39.657  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 14:56:39.761  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.007s)
2021-12-30 14:56:39.774  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 14:56:39.776  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 14:56:39.779  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 14:56:39.802  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-30 14:56:40.781  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 14:56:40.782  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 14:56:40.785  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 14:56:40.787  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 14:56:44.060  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 14:56:44.625  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 14:56:44.634  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 14:56:44.811  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 14:56:45.111  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 14:56:45.292  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.310  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.313  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.316  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.320  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.325  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.328  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.333  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.339  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.342  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.345  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.350  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.357  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.362  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.365  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.368  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.374  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.377  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.384  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 14:56:45.546  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 14:56:45.746  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:56:45.761  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 14:56:45.779  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 14:56:46.064  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-d8832644-d446-4653-9c5c-f5d9601143f2 and rules: [Spool > 512K body size]
2021-12-30 14:56:46.069  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 14:56:46.079  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 14:56:46.082  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 14:56:46.095  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 14:56:46.103  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 14:56:46.139  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 14:56:46.228  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 14:56:46.257  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 14:56:46.280  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 14:56:46.687  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 14:56:46.697  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 14:56:46.977  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-30 14:56:47.085  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-30 14:56:47.086  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-30 14:56:47.087  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 14:56:47.236  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 14:56:47.237  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 14:56:47.247  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 14:56:47.271  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 14:56:47.297  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 14:56:47.313  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 14:56:47.450  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 14:56:47.464  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 14:56:47.664  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 14:56:47.741  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 14:56:47.742  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 14:56:59.072  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 14:57:00.232  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 15:02:23.275  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 15:02:23.297  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 15:02:23.305  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 15:02:23.327  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 15:02:23.369  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 15:02:23.431  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 15:02:23.753  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 15:02:23.756  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 15:02:24.051  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 15:02:24.224  INFO    [main                          ] org.reflections.Reflections              : Reflections took 83 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 15:02:24.367  INFO    [main                          ] org.reflections.Reflections              : Reflections took 45 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 15:02:25.108  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 15:02:25.117  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 15:02:25.130  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 15:02:25.322  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 15:02:25.370  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 15:02:25.460  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-30 15:02:25.473  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 15:02:25.474  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 15:02:25.478  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 15:02:25.501  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-30 15:02:26.443  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 15:02:26.444  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 15:02:26.447  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 15:02:26.449  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 15:02:29.865  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 15:02:30.463  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/opt/app/manager/src/map/mapdata.mbtiles', falling back to built in map
2021-12-30 15:02:30.465  WARNING [main                          ] org.openremote.manager.map.MapService    : Map settings file not found '/opt/app/manager/src/map/mapsettings.json', falling back to built in map settings
2021-12-30 15:02:30.505  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 15:02:30.513  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 15:02:30.614  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 15:02:30.876  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 15:02:31.004  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.011  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.012  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.014  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.015  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.016  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.018  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.019  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.020  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.021  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.023  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.024  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.026  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.027  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.028  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.029  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.031  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.032  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.034  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:02:31.107  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 15:02:31.355  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 15:02:31.368  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 15:02:31.384  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 15:02:31.650  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-b9020fa8-363e-44c1-8cf5-3350845cd930 and rules: [Spool > 512K body size]
2021-12-30 15:02:31.654  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 15:02:31.665  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 15:02:31.669  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 15:02:31.676  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 15:02:31.683  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 15:02:31.717  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 15:02:31.809  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 15:02:31.836  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 15:02:31.869  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 15:02:32.100  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 15:02:32.103  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 15:02:32.306  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /opt/map/mapdata.mbtiles
2021-12-30 15:02:32.473  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 15:02:32.594  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 15:02:32.595  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 15:02:32.606  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 15:02:32.626  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 15:02:32.651  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 15:02:32.664  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 15:02:32.739  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 15:02:32.752  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 15:02:32.936  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 15:02:33.014  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 15:02:33.015  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 15:02:57.984  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 15:05:05.803  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 15:05:05.820  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 15:05:05.830  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 15:05:05.851  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 15:05:05.892  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 15:05:05.948  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 15:05:06.391  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 15:05:06.395  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 15:05:06.687  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 15:05:06.853  INFO    [main                          ] org.reflections.Reflections              : Reflections took 93 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 15:05:07.006  INFO    [main                          ] org.reflections.Reflections              : Reflections took 52 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 15:05:07.992  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 15:05:08.001  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 15:05:08.014  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 15:05:08.223  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 15:05:08.279  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 15:05:08.387  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-30 15:05:08.402  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 15:05:08.403  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 15:05:08.407  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 15:05:08.433  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.008s)
2021-12-30 15:05:09.531  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 15:05:09.533  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 15:05:09.537  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 15:05:09.539  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 15:05:13.024  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 15:05:13.584  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 15:05:13.595  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 15:05:13.698  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 15:05:13.965  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 15:05:14.086  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.092  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.094  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.095  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.097  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.099  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.100  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.101  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.102  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.104  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.105  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.107  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.108  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.110  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.112  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.113  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.114  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.115  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.117  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:05:14.205  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 15:05:14.406  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 15:05:14.422  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 15:05:14.448  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 15:05:14.752  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-86786551-9ac1-426e-b967-2aaba92e791d and rules: [Spool > 512K body size]
2021-12-30 15:05:14.757  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 15:05:14.769  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 15:05:14.773  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 15:05:14.783  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 15:05:14.787  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 15:05:14.822  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 15:05:14.896  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 15:05:14.918  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 15:05:14.933  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 15:05:15.136  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 15:05:15.139  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 15:05:15.332  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-30 15:05:15.429  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-30 15:05:15.430  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-30 15:05:15.431  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 15:05:15.559  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 15:05:15.560  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 15:05:15.571  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 15:05:15.591  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 15:05:15.622  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 15:05:15.637  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 15:05:15.711  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 15:05:15.721  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 15:05:15.938  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 15:05:16.030  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 15:05:16.031  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 15:05:48.541  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 15:05:49.517  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 15:18:39.725  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 15:18:40.324  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 15:58:05.478  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 15:58:05.495  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 15:58:05.505  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 15:58:05.527  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 15:58:05.563  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 15:58:05.615  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 15:58:05.913  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 15:58:05.916  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 15:58:06.171  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 15:58:06.314  INFO    [main                          ] org.reflections.Reflections              : Reflections took 81 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 15:58:06.436  INFO    [main                          ] org.reflections.Reflections              : Reflections took 39 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 15:58:07.446  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 15:58:07.457  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 15:58:07.469  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 15:58:07.714  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 15:58:07.766  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 15:58:07.870  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.008s)
2021-12-30 15:58:07.883  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 15:58:07.885  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 15:58:07.888  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 15:58:07.908  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.008s)
2021-12-30 15:58:08.994  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 15:58:08.996  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 15:58:08.999  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 15:58:09.002  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 15:58:12.731  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 15:58:13.328  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 15:58:13.338  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 15:58:13.457  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 15:58:13.720  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 15:58:13.831  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.836  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.837  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.838  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.840  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.841  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.842  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.843  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.844  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.846  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.847  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.849  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.851  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.852  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.853  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.854  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.855  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.856  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.858  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 15:58:13.944  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 15:58:14.188  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 15:58:14.200  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 15:58:14.213  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 15:58:14.470  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-9c8d2973-d508-4502-9dd4-65102f86354a and rules: [Spool > 512K body size]
2021-12-30 15:58:14.474  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 15:58:14.483  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 15:58:14.490  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 15:58:14.503  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 15:58:14.510  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 15:58:14.589  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 15:58:14.676  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 15:58:14.694  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 15:58:14.709  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 15:58:14.890  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 15:58:14.893  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 15:58:15.087  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-30 15:58:15.175  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-30 15:58:15.176  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-30 15:58:15.176  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 15:58:15.333  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 15:58:15.334  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 15:58:15.344  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 15:58:15.365  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 15:58:15.386  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 15:58:15.399  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 15:58:15.510  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 15:58:15.522  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 15:58:15.684  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 15:58:15.751  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 15:58:15.752  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 15:59:05.070  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 15:59:06.163  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 17:03:22.604  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 17:03:22.630  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 17:03:22.636  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 17:03:22.655  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 17:03:22.692  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 17:03:22.779  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 17:03:23.124  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 17:03:23.128  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 17:03:23.403  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 17:03:23.557  INFO    [main                          ] org.reflections.Reflections              : Reflections took 91 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 17:03:23.673  INFO    [main                          ] org.reflections.Reflections              : Reflections took 41 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 17:03:24.442  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 17:03:24.450  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 17:03:24.460  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 17:03:24.660  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 17:03:24.706  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 17:03:24.808  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-30 17:03:24.822  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 17:03:24.823  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 17:03:24.827  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 17:03:24.850  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-30 17:03:25.899  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 17:03:25.900  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 17:03:25.902  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 17:03:25.904  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 17:03:28.643  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 17:03:29.213  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 17:03:29.225  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 17:03:29.314  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 17:03:29.543  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 17:03:29.655  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.661  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.662  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.664  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.665  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.666  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.667  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.669  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.670  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.671  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.672  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.674  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.675  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.676  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.678  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.680  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.681  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.683  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.684  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:03:29.741  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 17:03:29.900  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 17:03:29.911  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 17:03:29.926  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 17:03:30.146  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-f4439d85-cedd-436c-8ffd-61724f051340 and rules: [Spool > 512K body size]
2021-12-30 17:03:30.149  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 17:03:30.159  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 17:03:30.163  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 17:03:30.170  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 17:03:30.173  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 17:03:30.197  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 17:03:30.271  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 17:03:30.317  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 17:03:30.334  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 17:03:30.526  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 17:03:30.530  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 17:03:30.708  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-30 17:03:30.805  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-30 17:03:30.806  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-30 17:03:30.806  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 17:03:30.921  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 17:03:30.921  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 17:03:30.932  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 17:03:30.950  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 17:03:30.970  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 17:03:30.984  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 17:03:31.052  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 17:03:31.063  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 17:03:31.207  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 17:03:31.269  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 17:03:31.270  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 17:05:09.765  INFO    [WebService task-2             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 17:05:10.777  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 17:52:58.024  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 17:52:58.039  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 17:52:58.045  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 17:52:58.069  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 17:52:58.109  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 17:52:58.170  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 17:52:58.472  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 17:52:58.475  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 17:52:58.719  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 17:52:58.866  INFO    [main                          ] org.reflections.Reflections              : Reflections took 86 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 17:52:58.973  INFO    [main                          ] org.reflections.Reflections              : Reflections took 39 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 17:52:59.708  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 17:52:59.718  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 17:52:59.727  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 17:52:59.917  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 17:52:59.966  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 17:53:00.070  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.005s)
2021-12-30 17:53:00.083  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 17:53:00.086  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 17:53:00.093  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 17:53:00.118  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.007s)
2021-12-30 17:53:01.044  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 17:53:01.045  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 17:53:01.048  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 17:53:01.049  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 17:53:03.933  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 17:53:04.465  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 17:53:04.473  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 17:53:04.563  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 17:53:04.797  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 17:53:04.902  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.907  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.908  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.909  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.911  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.913  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.914  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.915  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.916  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.917  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.919  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.920  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.921  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.923  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.924  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.925  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.927  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.929  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.931  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:53:04.994  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 17:53:05.176  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 17:53:05.186  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 17:53:05.202  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 17:53:05.488  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-a6b2eae4-f2d8-4d8b-9478-431f819338d5 and rules: [Spool > 512K body size]
2021-12-30 17:53:05.493  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 17:53:05.507  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 17:53:05.511  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 17:53:05.520  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 17:53:05.525  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 17:53:05.575  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 17:53:05.636  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 17:53:05.654  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 17:53:05.669  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 17:53:05.869  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 17:53:05.873  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 17:53:06.073  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-30 17:53:06.171  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-30 17:53:06.172  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-30 17:53:06.173  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 17:53:06.306  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 17:53:06.307  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 17:53:06.320  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 17:53:06.338  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 17:53:06.365  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 17:53:06.376  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 17:53:06.444  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 17:53:06.453  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 17:53:06.621  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 17:53:06.687  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 17:53:06.688  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 17:53:25.844  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 17:53:26.872  FINE    [WebService task-1             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
2021-12-30 17:57:55.378  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2021-12-30 17:57:55.394  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2021-12-30 17:57:55.401  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2021-12-30 17:57:55.419  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2021-12-30 17:57:55.455  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 17:57:55.508  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2021-12-30 17:57:55.892  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2021-12-30 17:57:55.896  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2021-12-30 17:57:56.200  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2021-12-30 17:57:56.354  INFO    [main                          ] org.reflections.Reflections              : Reflections took 95 ms to scan 1 urls, producing 66 keys and 247 values 
2021-12-30 17:57:56.518  INFO    [main                          ] org.reflections.Reflections              : Reflections took 68 ms to scan 1 urls, producing 127 keys and 369 values 
2021-12-30 17:57:57.443  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2021-12-30 17:57:57.451  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2021-12-30 17:57:57.460  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2021-12-30 17:57:57.659  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 6.4.3 by Redgate
2021-12-30 17:57:57.714  INFO    [main                          ] b.core.internal.database.DatabaseFactory : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 9.6)
2021-12-30 17:57:57.840  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-30 17:57:57.852  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20191202.01
2021-12-30 17:57:57.854  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2021-12-30 17:57:57.857  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2021-12-30 17:57:57.879  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 2 migrations (execution time 00:00.006s)
2021-12-30 17:57:59.109  WARNING [main                          ] Hibernate Types                          : You should use Hypersistence Optimizer to speed up your Hibernate application!
2021-12-30 17:57:59.110  WARNING [main                          ] Hibernate Types                          : For more details, go to https://vladmihalcea.com/hypersistence-optimizer/
2021-12-30 17:57:59.117  INFO    [main                          ] Hibernate Types                          : 
 _    _                           _     _
| |  | |                         (_)   | |
| |__| |_   _ _ __   ___ _ __ ___ _ ___| |_ ___ _ __   ___ ___
|  __  | | | | '_ \ / _ \ '__/ __| / __| __/ _ \ '_ \ / __/ _ \
| |  | | |_| | |_) |  __/ |  \__ \ \__ \ ||  __/ | | | (_|  __/
|_|  |_|\__, | .__/ \___|_|  |___/_|___/\__\___|_| |_|\___\___|
         __/ | |
        |___/|_|

           ____        _   _           _
          / __ \      | | (_)         (_)
         | |  | |_ __ | |_ _ _ __ ___  _ _______ _ __
         | |  | | '_ \| __| | '_ ` _ \| |_  / _ \ '__|
         | |__| | |_) | |_| | | | | | | |/ /  __/ |
          \____/| .__/ \__|_|_| |_| |_|_/___\___|_|
                | |
                |_|

2021-12-30 17:57:59.120  INFO    [main                          ] Hibernate Types                          : Check out the README page for more info about the Hypersistence Optimizer banner https://github.com/vladmihalcea/hibernate-types#how-to-remove-the-hypersistence-optimizer-banner-from-the-log
2021-12-30 17:58:02.821  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2021-12-30 17:58:03.544  WARNING [main                          ] ger.notification.PushNotificationHandler : FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2021-12-30 17:58:03.557  INFO    [main                          ] nremote.manager.event.EventSubscriptions : Starting background task checking for expired event subscriptions from clients
2021-12-30 17:58:03.680  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Raster Map Tile Proxy
2021-12-30 17:58:03.984  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2021-12-30 17:58:04.141  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.150  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.152  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.console.ConsoleResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.153  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.RulesResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.155  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.map.MapResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.157  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetPredictedDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.159  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.agent.AgentResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.163  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.rules.flow.FlowResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.164  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.UserResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.166  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.gateway.GatewayClientResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.168  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.asset.AssetModelResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.171  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.security.TenantResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.173  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.apps.ConsoleAppResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.178  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.provisioning.ProvisioningResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.181  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.notification.NotificationResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.182  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource io.swagger.v3.jaxrs2.integration.resources.OpenApiResource from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.184  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.system.StatusResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.186  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.datapoint.AssetDatapointResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.188  INFO    [main                          ] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002220: Adding singleton resource org.openremote.manager.syslog.SyslogResourceImpl from Application class org.openremote.container.web.WebApplication
2021-12-30 17:58:04.321  INFO    [main                          ] g.jboss.resteasy.plugins.validation.i18n : RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory
2021-12-30 17:58:04.592  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 17:58:04.605  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2021-12-30 17:58:04.631  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2021-12-30 17:58:04.976  INFO    [main                          ] .camel.impl.DefaultStreamCachingStrategy : StreamCaching in use with spool directory: /tmp/camel/camel-tmp-056bc048-3e8d-4e99-9050-c5109cee4f87 and rules: [Spool > 512K body size]
2021-12-30 17:58:04.981  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://PersistenceTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://PersistenceTopic with size: 25000
2021-12-30 17:58:04.989  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventTopic?concurrentConsumers=1&discardIfNoConsumers=true&limitConcurrentConsumers=false&multipleConsumers=true&purgeWhenStopping=true&size=1000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventTopic with size: 1000
2021-12-30 17:58:04.993  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://AssetQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://AssetQueue with size: 25000
2021-12-30 17:58:04.999  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://NotificationQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&timeout=10000&waitForTaskToComplete=IfReplyExpected is using shared queue: seda://NotificationQueue with size: 25000
2021-12-30 17:58:05.004  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://ClientEventQueue?discardIfNoConsumers=true&multipleConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://ClientEventQueue with size: 25000
2021-12-30 17:58:05.036  INFO    [main                          ] .container.web.DefaultWebsocketComponent : Deploying websocket endpoint: /websocket/events
2021-12-30 17:58:05.146  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.1.0.Final
2021-12-30 17:58:05.183  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket
2021-12-30 17:58:05.222  INFO    [main                          ] io.undertow.websockets.jsr               : UT026005: Adding programmatic server endpoint class org.openremote.container.web.socket.WebsocketAdapter for path /websocket/events
2021-12-30 17:58:05.702  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Initializing broker interceptor. InterceptorIds=[org.openremote.manager.mqtt.ORInterceptHandler]
2021-12-30 17:58:05.706  INFO    [main                          ] .moquette.interception.BrokerInterceptor : Adding MQTT message interceptor. InterceptorId=org.openremote.manager.mqtt.ORInterceptHandler, handledMessageTypes=[class io.moquette.interception.messages.InterceptConnectMessage, class io.moquette.interception.messages.InterceptDisconnectMessage, class io.moquette.interception.messages.InterceptConnectionLostMessage, class io.moquette.interception.messages.InterceptSubscribeMessage, class io.moquette.interception.messages.InterceptUnsubscribeMessage, class io.moquette.interception.messages.InterceptPublishMessage]
2021-12-30 17:58:06.006  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2021-12-30 17:58:06.139  SEVERE  [main                          ] org.openremote.manager.map.MapService    : Failed to get metadata from mbtiles DB
java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542)
	at java.lang.Integer.parseInt(Integer.java:615)
	at org.openremote.manager.map.MapService.getMetadata(MapService.java:101)
	at org.openremote.manager.map.MapService.start(MapService.java:233)
	at org.openremote.container.Container.start(Container.java:168)
	at org.openremote.container.Container.startBackground(Container.java:209)
	at org.openremote.manager.Main.main(Main.java:31)
2021-12-30 17:58:06.140  WARNING [main                          ] org.openremote.manager.map.MapService    : Map meta data could not be loaded, map functionality will not work
2021-12-30 17:58:06.141  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2021-12-30 17:58:06.300  INFO    [main                          ] emote.manager.energy.ForecastWindService : No value found for OPEN_WEATHER_API_APP_ID, ForecastWindService won't start
2021-12-30 17:58:06.301  INFO    [main                          ] mote.manager.energy.ForecastSolarService : No value found for FORECAST_SOLAR_API_KEY, ForecastSolarService won't start
2021-12-30 17:58:06.312  INFO    [main                          ] apache.camel.component.seda.SedaEndpoint : Endpoint seda://SensorQueue?discardIfNoConsumers=false&purgeWhenStopping=true&size=25000&waitForTaskToComplete=NEVER is using shared queue: seda://SensorQueue with size: 25000
2021-12-30 17:58:06.333  INFO    [main                          ] rg.openremote.manager.rules.RulesService : GeoefenceAssetAdapters found: 1
2021-12-30 17:58:06.367  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying global rulesets
2021-12-30 17:58:06.385  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying tenant rulesets
2021-12-30 17:58:06.509  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Deploying asset rulesets
2021-12-30 17:58:06.534  INFO    [main                          ] rg.openremote.manager.rules.RulesService : Loading all assets with fact attributes to initialize state of rules engines
2021-12-30 17:58:06.776  INFO    [main                          ] io.undertow                              : starting server: Undertow - 2.2.3.Final
2021-12-30 17:58:06.865  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2021-12-30 17:58:06.867  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2021-12-30 17:58:38.952  INFO    [WebService task-1             ] org.keycloak.adapters.KeycloakDeployment : Loaded URLs from http://keycloak:8080/auth/realms/master/.well-known/openid-configuration
2021-12-30 17:58:40.667  FINE    [WebService task-2             ] emote.container.web.WebServiceExceptions : Web service exception in 'RESTEasy Dispatch' for 'GET http://localhost/map'
java.lang.NullPointerException
	at org.openremote.manager.map.MapService.lambda$getMapSettings$1(MapService.java:294)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1128)
	at org.openremote.manager.map.MapService.getMapSettings(MapService.java:289)
	at org.openremote.manager.map.MapResourceImpl.getSettings(MapResourceImpl.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.keycloak.adapters.undertow.UndertowAuthenticatedActionsHandler.handleRequest(UndertowAuthenticatedActionsHandler.java:66)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.keycloak.adapters.undertow.ServletPreAuthActionsHandler.handleRequest(ServletPreAuthActionsHandler.java:69)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at java.lang.Thread.run(Thread.java:750)
